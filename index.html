<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>All Useful Tools Pro</title>
  <meta name="google-site-verification" content="1XoC_NkTUw8G-r_iZzpG4OPoTKo3Br_TZGtUtbouKkU" />
  <!-- PWA Meta Tags -->
  <meta name="theme-color" content="#3F51B5">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="apple-mobile-web-app-title" content="UsefulTools">
  <link rel="manifest" href="manifest.json">
  <link rel="icon" href="icon-192.png" type="image/png">
  <link rel="apple-touch-icon" href="icon-192.png">
  
  <style>
    :root {
      --primary: #3F51B5;
      --primary-dark: #303F9F;
      --bg: #f5f9ff;
      --card: #ffffff;
      --text: #212529;
      --muted: #6b7280;
    }
    
    [data-theme='dark'] {
      --primary: #5C6BC0;
      --primary-dark: #3949AB;
      --bg: #071025;
      --card: #0b1520;
      --text: #e9ecef;
      --muted: #9aa7b2;
    }
    
    /* Theme Colors */
    [data-color='blue'] { --primary: #3F51B5; --primary-dark: #303F9F; }
    [data-color='green'] { --primary: #00a86b; --primary-dark: #008752; }
    [data-color='purple'] { --primary: #8a2be2; --primary-dark: #6a1cb8; }
    [data-color='red'] { --primary: #e74c3c; --primary-dark: #c0392b; }
    [data-color='orange'] { --primary: #e67e22; --primary-dark: #d35400; }
    [data-color='pink'] { --primary: #e84393; --primary-dark: #c2185b; }
    
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }
    
    body {
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      background: var(--bg);
      color: var(--text);
      padding: 20px;
      min-height: 100vh;
      transition: all 0.3s;
    }
    
    .container {
      max-width: 1200px;
      margin: 0 auto;
    }
    
    /* Header - FIXED FOR MOBILE */
    header {
      text-align: center;
      margin-bottom: 40px;
      padding: 70px 20px 30px;
      background: linear-gradient(135deg, var(--primary) 0%, var(--primary-dark) 100%);
      border-radius: 16px;
      color: white;
      position: relative;
      min-height: 200px;
    }
    
    h1 {
      font-size: 2.5rem;
      margin-bottom: 10px;
      padding: 0 10px;
    }
    
    .subtitle {
      font-size: 1.1rem;
      opacity: 0.9;
      padding: 0 10px;
      margin-top: 10px;
    }
    
    /* Buttons in Header */
    .theme-btn {
      position: absolute;
      top: 20px;
      right: 20px;
      background: rgba(255,255,255,0.2);
      border: none;
      color: white;
      padding: 10px 20px;
      border-radius: 20px;
      cursor: pointer;
      font-weight: 600;
      font-size: 1rem;
      white-space: nowrap;
      max-width: 140px;
      z-index: 10;
      transition: all 0.3s;
    }
    
    .theme-btn:hover {
      background: rgba(255,255,255,0.3);
      transform: scale(1.05);
    }
    
    .favorite-btn {
      position: absolute;
      top: 20px;
      left: 20px;
      background: rgba(255,255,255,0.2);
      border: none;
      color: white;
      padding: 10px 20px;
      border-radius: 20px;
      cursor: pointer;
      font-weight: 600;
      font-size: 1rem;
      white-space: nowrap;
      max-width: 140px;
      z-index: 10;
      transition: all 0.3s;
    }
    
    .favorite-btn:hover {
      background: rgba(255,255,255,0.3);
      transform: scale(1.05);
    }
    
    .favorite-btn.active {
      background: rgba(255,215,0,0.3);
    }
    
    /* Language Selector */
    .language-selector {
      position: absolute;
      top: 60px;
      left: 20px;
      z-index: 10;
    }
    
    .language-btn {
      background: rgba(255,255,255,0.2);
      border: none;
      color: white;
      padding: 8px 15px;
      border-radius: 20px;
      cursor: pointer;
      font-weight: 600;
      font-size: 0.9rem;
      transition: all 0.3s;
    }
    
    .language-btn:hover {
      background: rgba(255,255,255,0.3);
    }
    
    .language-dropdown {
      position: absolute;
      top: 100%;
      left: 0;
      background: var(--card);
      border-radius: 10px;
      box-shadow: 0 5px 20px rgba(0,0,0,0.2);
      padding: 10px;
      display: none;
      min-width: 150px;
      margin-top: 5px;
    }
    
    .language-dropdown.show {
      display: block;
    }
    
    .language-option {
      padding: 8px 12px;
      margin: 5px 0;
      border-radius: 5px;
      cursor: pointer;
      transition: all 0.2s;
      display: flex;
      align-items: center;
    }
    
    .language-option:hover {
      background: var(--bg);
    }
    
    .flag {
      margin-right: 10px;
      font-size: 1.2rem;
    }
    
    /* Themes Selector */
    .themes-selector {
      position: absolute;
      top: 60px;
      right: 20px;
      z-index: 10;
    }
    
    .themes-btn {
      background: rgba(255,255,255,0.2);
      border: none;
      color: white;
      padding: 8px 15px;
      border-radius: 20px;
      cursor: pointer;
      font-weight: 600;
      font-size: 0.9rem;
      transition: all 0.3s;
    }
    
    .themes-btn:hover {
      background: rgba(255,255,255,0.3);
    }
    
    .themes-dropdown {
      position: absolute;
      top: 100%;
      right: 0;
      background: var(--card);
      border-radius: 10px;
      box-shadow: 0 5px 20px rgba(0,0,0,0.2);
      padding: 10px;
      display: none;
      min-width: 150px;
      margin-top: 5px;
    }
    
    .themes-dropdown.show {
      display: block;
    }
    
    .theme-option {
      padding: 8px 12px;
      margin: 5px 0;
      border-radius: 5px;
      cursor: pointer;
      transition: all 0.2s;
    }
    
    .theme-option:hover {
      background: var(--bg);
    }
    
    .theme-color {
      width: 20px;
      height: 20px;
      border-radius: 50%;
      display: inline-block;
      margin-right: 10px;
      border: 2px solid rgba(0,0,0,0.1);
    }
    
    /* Search Bar Styles */
    .search-container {
      margin: 20px auto 30px;
      max-width: 500px;
      position: relative;
    }
    
    #searchBox {
      width: 100%;
      padding: 12px 45px 12px 20px;
      border: 2px solid var(--primary);
      border-radius: 25px;
      font-size: 16px;
      background: var(--card);
      color: var(--text);
      transition: all 0.3s;
    }
    
    #searchBox:focus {
      outline: none;
      box-shadow: 0 0 0 3px rgba(63, 81, 181, 0.2);
    }
    
    .search-icon {
      position: absolute;
      right: 15px;
      top: 50%;
      transform: translateY(-50%);
      color: var(--primary);
      font-size: 18px;
    }
    
    .clear-search {
      position: absolute;
      right: 45px;
      top: 50%;
      transform: translateY(-50%);
      background: var(--muted);
      color: var(--card);
      border: none;
      border-radius: 50%;
      width: 20px;
      height: 20px;
      font-size: 12px;
      cursor: pointer;
      display: none;
    }
    
    /* Search Results Highlight */
    .tool-item.highlight {
      background: var(--primary);
      color: white;
    }
    
    .tool-item.highlight .tool-icon {
      background: white;
      color: var(--primary);
    }
    
    /* Recent Tools Styles */
    .recent-tools {
      display: flex;
      gap: 10px;
      margin: 15px 0 25px;
      flex-wrap: wrap;
      justify-content: center;
    }
    
    .recent-tool {
      background: var(--primary);
      color: white;
      padding: 8px 15px;
      border-radius: 20px;
      font-size: 0.9rem;
      cursor: pointer;
      transition: all 0.3s;
      white-space: nowrap;
    }
    
    .recent-tool:hover {
      background: var(--primary-dark);
      transform: translateY(-2px);
    }
    
    /* Tools Grid */
    .tools-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
      gap: 20px;
      margin-bottom: 40px;
    }
    
    .card {
      background: var(--card);
      border-radius: 12px;
      padding: 20px;
      box-shadow: 0 4px 20px rgba(0,0,0,0.08);
      transition: transform 0.3s;
    }
    
    .card:hover {
      transform: translateY(-5px);
    }
    
    .card-title {
      font-size: 1.3rem;
      color: var(--primary);
      margin-bottom: 15px;
      border-bottom: 2px solid var(--primary);
      padding-bottom: 5px;
    }
    
    .tool-item {
      display: flex;
      align-items: center;
      padding: 12px;
      margin-bottom: 10px;
      background: var(--bg);
      border-radius: 8px;
      cursor: pointer;
      transition: all 0.2s;
      position: relative;
    }
    
    .tool-item:hover {
      background: var(--primary);
      color: white;
      transform: translateX(5px);
    }
    
    .tool-item:hover .tool-icon {
      background: white;
      color: var(--primary);
    }
    
    .tool-item:hover .favorite-star {
      color: white;
    }
    
    .tool-icon {
      width: 40px;
      height: 40px;
      background: var(--primary);
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      margin-right: 15px;
      color: white;
      font-size: 20px;
      flex-shrink: 0;
      transition: all 0.3s;
    }
    
    .tool-name {
      font-size: 1rem;
      font-weight: 500;
      flex-grow: 1;
    }
    
    .favorite-star {
      font-size: 1.2rem;
      cursor: pointer;
      padding: 5px;
      transition: all 0.3s;
      color: #ccc;
      margin-left: 10px;
    }
    
    .favorite-star:hover {
      transform: scale(1.2);
    }
    
    .favorite-star.active {
      color: gold;
      text-shadow: 0 0 5px rgba(255,215,0,0.5);
    }
    
    /* Slide Panel */
    .overlay {
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: rgba(0,0,0,0.5);
      display: none;
      z-index: 1000;
    }
    
    .panel {
      position: fixed;
      bottom: -100%;
      left: 0;
      right: 0;
      background: var(--card);
      border-radius: 20px 20px 0 0;
      padding: 20px;
      transition: bottom 0.3s;
      z-index: 1001;
      max-height: 80vh;
      overflow-y: auto;
    }
    
    .panel.active {
      bottom: 0;
      animation: slideUp 0.3s ease-out;
    }
    
    @keyframes slideUp {
      from { bottom: -100%; }
      to { bottom: 0; }
    }
    
    .panel-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 20px;
      padding-bottom: 10px;
      border-bottom: 2px solid var(--primary);
    }
    
    .panel-title {
      font-size: 1.5rem;
      color: var(--primary);
    }
    
    .close-btn {
      background: var(--primary);
      color: white;
      border: none;
      padding: 8px 16px;
      border-radius: 8px;
      cursor: pointer;
      transition: background 0.3s;
    }
    
    .close-btn:hover {
      background: var(--primary-dark);
    }
    
    /* Form Elements */
    input, select, textarea {
      width: 100%;
      padding: 12px;
      margin: 8px 0 16px;
      border: 1px solid #ddd;
      border-radius: 8px;
      font-size: 16px;
      background: var(--bg);
      color: var(--text);
    }
    
    button {
      background: var(--primary);
      color: white;
      border: none;
      padding: 12px 20px;
      border-radius: 8px;
      font-size: 16px;
      cursor: pointer;
      margin-right: 10px;
      transition: background 0.3s;
    }
    
    button:hover {
      background: var(--primary-dark);
    }
    
    .result {
      margin-top: 20px;
      padding: 15px;
      background: var(--bg);
      border-radius: 8px;
      font-weight: bold;
      color: var(--primary);
    }
    
    /* Calculator Grid */
    .calc-grid {
      display: grid;
      grid-template-columns: repeat(4, 1fr);
      gap: 10px;
      margin-top: 15px;
    }
    
    .calc-btn {
      padding: 15px;
      font-size: 18px;
    }
    
    /* Data Management */
    .data-management {
      text-align: center;
      margin: 30px 0;
    }
    
    footer {
      text-align: center;
      padding: 20px;
      color: var(--muted);
      margin-top: 40px;
    }
    
    /* ========== MOBILE FIXES ========== */
    @media (max-width: 768px) {
      .tools-grid {
        grid-template-columns: 1fr;
      }
      
      h1 {
        font-size: 2rem;
        margin-top: 10px;
      }
      
      .panel {
        padding: 15px;
      }
      
      header {
        padding-top: 80px;
        padding-bottom: 25px;
        min-height: 180px;
      }
      
      .theme-btn {
        top: 15px;
        right: 15px;
        padding: 8px 16px;
        font-size: 0.9rem;
        max-width: 120px;
      }
      
      .favorite-btn {
        top: 15px;
        left: 15px;
        padding: 8px 16px;
        font-size: 0.9rem;
        max-width: 120px;
      }
      
      .language-selector, .themes-selector {
        top: 50px;
      }
      
      .language-selector {
        left: 15px;
      }
      
      .themes-selector {
        right: 15px;
      }
      
      .language-btn, .themes-btn {
        padding: 6px 12px;
        font-size: 0.85rem;
      }
    }
    
    @media (max-width: 480px) {
      header {
        padding-top: 75px;
        padding-left: 15px;
        padding-right: 15px;
        min-height: 170px;
      }
      
      h1 {
        font-size: 1.7rem;
        margin-top: 5px;
        line-height: 1.3;
      }
      
      .subtitle {
        font-size: 1rem;
        line-height: 1.4;
      }
      
      .theme-btn, .favorite-btn {
        top: 12px;
        padding: 6px 12px;
        font-size: 0.85rem;
        max-width: 110px;
      }
      
      .theme-btn {
        right: 12px;
      }
      
      .favorite-btn {
        left: 12px;
      }
      
      .language-selector, .themes-selector {
        top: 45px;
      }
      
      .language-selector {
        left: 12px;
      }
      
      .themes-selector {
        right: 12px;
      }
      
      .theme-btn, .favorite-btn {
        overflow: hidden;
        text-overflow: ellipsis;
      }
    }
    
    @media (max-width: 375px) {
      body {
        padding: 15px;
      }
      
      h1 {
        font-size: 1.5rem;
      }
      
      .theme-btn, .favorite-btn {
        font-size: 0.8rem;
        padding: 5px 10px;
        max-width: 100px;
      }
      
      header {
        min-height: 160px;
        padding-top: 70px;
      }
      
      .language-selector, .themes-selector {
        top: 40px;
      }
    }
  </style>
</head>
<body data-theme="light" data-color="blue">
  
  <!-- Offline Indicator -->
  <div id="offlineIndicator" style="display: none; position: fixed; top: 10px; right: 10px; background: #e74c3c; color: white; padding: 8px 15px; border-radius: 5px; z-index: 2000; font-size: 14px;">
    ‚ö†Ô∏è You are offline
  </div>

  <div class="container">
    <header>
      <button class="favorite-btn" id="showFavorites" data-i18n="favoritesBtn">‚≠ê Favorites</button>
      <button class="theme-btn" id="themeToggle">üåô Dark Mode</button>
      
      <!-- Language Selector -->
      <div class="language-selector">
        <button class="language-btn" id="languageBtn">üåê</button>
        <div class="language-dropdown" id="languageDropdown">
          <div class="language-option" data-lang="en">
            <span class="flag">üá∫üá∏</span> English
          </div>
          <div class="language-option" data-lang="hi">
            <span class="flag">üáÆüá≥</span> ‡§π‡§ø‡§Ç‡§¶‡•Ä
          </div>
          <div class="language-option" data-lang="es">
            <span class="flag">üá™üá∏</span> Espa√±ol
          </div>
        </div>
      </div>
      
      <!-- Themes Selector -->
      <div class="themes-selector">
        <button class="themes-btn" id="themesBtn" data-i18n="themesBtn">üé® Themes</button>
        <div class="themes-dropdown" id="themesDropdown">
          <div class="theme-option" data-color="blue">
            <span class="theme-color" style="background: #3F51B5;"></span> Blue
          </div>
          <div class="theme-option" data-color="green">
            <span class="theme-color" style="background: #00a86b;"></span> Green
          </div>
          <div class="theme-option" data-color="purple">
            <span class="theme-color" style="background: #8a2be2;"></span> Purple
          </div>
          <div class="theme-option" data-color="red">
            <span class="theme-color" style="background: #e74c3c;"></span> Red
          </div>
          <div class="theme-option" data-color="orange">
            <span class="theme-color" style="background: #e67e22;"></span> Orange
          </div>
          <div class="theme-option" data-color="pink">
            <span class="theme-color" style="background: #e84393;"></span> Pink
          </div>
        </div>
      </div>
      
      <h1 data-i18n="appTitle">All Useful Tools Pro</h1>
      <p class="subtitle" data-i18n="appSubtitle">Collection of 30+ useful tools for everyday use</p>
    </header>
    
    <!-- Search Bar -->
    <div class="search-container">
      <input type="text" id="searchBox" placeholder="üîç Search tools..." data-i18n="searchPlaceholder">
      <button class="clear-search" id="clearSearch">‚úï</button>
      <div class="search-icon">üîç</div>
    </div>
    
    <!-- Recent Tools -->
    <div class="recent-tools-container" id="recentToolsContainer" style="display: none;">
      <h4 style="text-align: center; margin-bottom: 10px; color: var(--primary);" data-i18n="recentTools">Recently Used</h4>
      <div class="recent-tools" id="recentTools"></div>
    </div>
    
    <div class="tools-grid">
      
      <!-- Calculators -->
      <div class="card">
        <h3 class="card-title" data-i18n="calculators">Calculators</h3>
        <div class="tool-item" data-panel="calc">
          <div class="tool-icon">+</div>
          <div class="tool-name" data-i18n="calculator">Calculator</div>
          <div class="favorite-star" data-tool-id="calc">‚òÜ</div>
        </div>
        <div class="tool-item" data-panel="age">
          <div class="tool-icon">üìÖ</div>
          <div class="tool-name" data-i18n="ageCalculator">Age Calculator</div>
          <div class="favorite-star" data-tool-id="age">‚òÜ</div>
        </div>
        <div class="tool-item" data-panel="bmi">
          <div class="tool-icon">‚öñÔ∏è</div>
          <div class="tool-name" data-i18n="bmiCalculator">BMI Calculator</div>
          <div class="favorite-star" data-tool-id="bmi">‚òÜ</div>
        </div>
        <div class="tool-item" data-panel="emi">
          <div class="tool-icon">üè¶</div>
          <div class="tool-name" data-i18n="emiCalculator">EMI Calculator</div>
          <div class="favorite-star" data-tool-id="emi">‚òÜ</div>
        </div>
      </div>
      
      <!-- Converters -->
      <div class="card">
        <h3 class="card-title" data-i18n="converters">Converters</h3>
        <div class="tool-item" data-panel="unit">
          <div class="tool-icon">üìè</div>
          <div class="tool-name" data-i18n="unitConverter">Unit Converter</div>
          <div class="favorite-star" data-tool-id="unit">‚òÜ</div>
        </div>
        <div class="tool-item" data-panel="temp">
          <div class="tool-icon">üå°Ô∏è</div>
          <div class="tool-name" data-i18n="tempConverter">Temperature Converter</div>
          <div class="favorite-star" data-tool-id="temp">‚òÜ</div>
        </div>
        <div class="tool-item" data-panel="currency">
          <div class="tool-icon">üí∞</div>
          <div class="tool-name" data-i18n="currencyConverter">Currency Converter</div>
          <div class="favorite-star" data-tool-id="currency">‚òÜ</div>
        </div>
      </div>
      
      <!-- Health & Fitness -->
      <div class="card">
        <h3 class="card-title" data-i18n="healthFitness">Health & Fitness</h3>
        <div class="tool-item" data-panel="body">
          <div class="tool-icon">üìê</div>
          <div class="tool-name" data-i18n="bodyMeasurements">Body Measurements</div>
          <div class="favorite-star" data-tool-id="body">‚òÜ</div>
        </div>
        <div class="tool-item" data-panel="fitness">
          <div class="tool-icon">üí™</div>
          <div class="tool-name" data-i18n="fitnessTracker">Fitness Tracker</div>
          <div class="favorite-star" data-tool-id="fitness">‚òÜ</div>
        </div>
        <div class="tool-item" data-panel="bp">
          <div class="tool-icon">‚ù§Ô∏è</div>
          <div class="tool-name" data-i18n="bloodPressure">Blood Pressure</div>
          <div class="favorite-star" data-tool-id="bp">‚òÜ</div>
        </div>
        <div class="tool-item" data-panel="calorie">
          <div class="tool-icon">üî•</div>
          <div class="tool-name" data-i18n="calorieCounter">Calorie Counter</div>
          <div class="favorite-star" data-tool-id="calorie">‚òÜ</div>
        </div>
      </div>
      
      <!-- Utilities -->
      <div class="card">
        <h3 class="card-title" data-i18n="utilities">Utilities</h3>
        <div class="tool-item" data-panel="stopwatch">
          <div class="tool-icon">‚è±Ô∏è</div>
          <div class="tool-name" data-i18n="stopwatch">Stopwatch</div>
          <div class="favorite-star" data-tool-id="stopwatch">‚òÜ</div>
        </div>
        <div class="tool-item" data-panel="timer">
          <div class="tool-icon">‚è∞</div>
          <div class="tool-name" data-i18n="timer">Timer</div>
          <div class="favorite-star" data-tool-id="timer">‚òÜ</div>
        </div>
        <div class="tool-item" data-panel="clock">
          <div class="tool-icon">üïí</div>
          <div class="tool-name" data-i18n="liveClock">Live Clock</div>
          <div class="favorite-star" data-tool-id="clock">‚òÜ</div>
        </div>
        <div class="tool-item" data-panel="discount">
          <div class="tool-icon">üè∑Ô∏è</div>
          <div class="tool-name" data-i18n="discountCalculator">Discount Calculator</div>
          <div class="favorite-star" data-tool-id="discount">‚òÜ</div>
        </div>
        <div class="tool-item" data-panel="gst">
          <div class="tool-icon">üìä</div>
          <div class="tool-name" data-i18n="gstCalculator">GST Calculator</div>
          <div class="favorite-star" data-tool-id="gst">‚òÜ</div>
        </div>
        <div class="tool-item" data-panel="qr">
          <div class="tool-icon">üîó</div>
          <div class="tool-name" data-i18n="qrGenerator">QR Code Generator</div>
          <div class="favorite-star" data-tool-id="qr">‚òÜ</div>
        </div>
        <div class="tool-item" data-panel="password">
          <div class="tool-icon">üîí</div>
          <div class="tool-name" data-i18n="passwordGenerator">Password Generator</div>
          <div class="favorite-star" data-tool-id="password">‚òÜ</div>
        </div>
        <div class="tool-item" data-panel="notes">
          <div class="tool-icon">üìù</div>
          <div class="tool-name" data-i18n="notes">Notes</div>
          <div class="favorite-star" data-tool-id="notes">‚òÜ</div>
        </div>
        <div class="tool-item" data-panel="todo">
          <div class="tool-icon">‚úÖ</div>
          <div class="tool-name" data-i18n="todoList">To-Do List</div>
          <div class="favorite-star" data-tool-id="todo">‚òÜ</div>
        </div>
      </div>

      <!-- New & Advanced Tools -->
      <div class="card">
        <h3 class="card-title" data-i18n="newTools">New & Advanced Tools üåü</h3>
        
        <div class="tool-item" data-panel="sip">
          <div class="tool-icon">üìà</div>
          <div class="tool-name" data-i18n="sipCalculator">SIP Calculator</div>
          <div class="favorite-star" data-tool-id="sip">‚òÜ</div>
        </div>
        <div class="tool-item" data-panel="loan">
          <div class="tool-icon">üè†</div>
          <div class="tool-name" data-i18n="loanCalculator">Loan Calculator</div>
          <div class="favorite-star" data-tool-id="loan">‚òÜ</div>
        </div>
        <div class="tool-item" data-panel="scientific">
          <div class="tool-icon">üî¨</div>
          <div class="tool-name" data-i18n="scientificCalculator">Scientific Calculator</div>
          <div class="favorite-star" data-tool-id="scientific">‚òÜ</div>
        </div>
        <div class="tool-item" data-panel="timezone">
          <div class="tool-icon">üåç</div>
          <div class="tool-name" data-i18n="timeZone">Time Zone</div>
          <div class="favorite-star" data-tool-id="timezone">‚òÜ</div>
        </div>
        <div class="tool-item" data-panel="tip">
          <div class="tool-icon">üí∏</div>
          <div class="tool-name" data-i18n="tipCalculator">Tip Calculator</div>
          <div class="favorite-star" data-tool-id="tip">‚òÜ</div>
        </div>
        <div class="tool-item" data-panel="fuel">
          <div class="tool-icon">‚õΩ</div>
          <div class="tool-name" data-i18n="fuelCalculator">Fuel Cost</div>
          <div class="favorite-star" data-tool-id="fuel">‚òÜ</div>
        </div>
        <div class="tool-item" data-panel="area">
          <div class="tool-icon">üìê</div>
          <div class="tool-name" data-i18n="areaCalculator">Area Calculator</div>
          <div class="favorite-star" data-tool-id="area">‚òÜ</div>
        </div>
        <div class="tool-item" data-panel="speed">
          <div class="tool-icon">üöó</div>
          <div class="tool-name" data-i18n="speedCalculator">Speed Calculator</div>
          <div class="favorite-star" data-tool-id="speed">‚òÜ</div>
        </div>
        <div class="tool-item" data-panel="dateDiff">
          <div class="tool-icon">üìÖ</div>
          <div class="tool-name" data-i18n="dateCalculator">Days Between Dates</div>
          <div class="favorite-star" data-tool-id="dateDiff">‚òÜ</div>
        </div>
        <div class="tool-item" data-panel="textCounter">
          <div class="tool-icon">üìÑ</div>
          <div class="tool-name" data-i18n="textCounter">Text Counter</div>
          <div class="favorite-star" data-tool-id="textCounter">‚òÜ</div>
        </div>
        <div class="tool-item" data-panel="random">
          <div class="tool-icon">üé≤</div>
          <div class="tool-name" data-i18n="randomGenerator">Random Generator</div>
          <div class="favorite-star" data-tool-id="random">‚òÜ</div>
        </div>
        <div class="tool-item" data-panel="bmiRange">
          <div class="tool-icon">‚öñÔ∏è</div>
          <div class="tool-name" data-i18n="bmiChart">BMI Range Chart</div>
          <div class="favorite-star" data-tool-id="bmiRange">‚òÜ</div>
        </div>
        <div class="tool-item" data-panel="water">
          <div class="tool-icon">üíß</div>
          <div class="tool-name" data-i18n="waterCalculator">Water Intake</div>
          <div class="favorite-star" data-tool-id="water">‚òÜ</div>
        </div>
      </div>
    </div>
    
    <!-- Data Management -->
    <div class="data-management">
      <button onclick="exportData()" style="background: #27ae60;" data-i18n="exportBtn">üì• Export Data</button>
      <button onclick="importData()" style="background: #3498db;" data-i18n="importBtn">üì§ Import Data</button>
      <input type="file" id="importFile" accept=".json" style="display: none;">
    </div>
    
    <footer>
      <p data-i18n="footerText">¬© 2025 All Useful Tools Pro ‚Ä¢ Click any tool to use</p>
    </footer>
  </div>
  
  <!-- Overlay -->
  <div class="overlay" id="overlay"></div>
  
  <!-- ========== ORIGINAL PANELS ========== -->
  
  <!-- Calculator Panel -->
  <div class="panel" id="calcPanel">
    <div class="panel-header">
      <h3 class="panel-title" data-i18n="calculator">Calculator</h3>
      <button class="close-btn" onclick="closePanel('calcPanel')" data-i18n="closeBtn">Close</button>
    </div>
    <input type="text" id="calcDisplay" readonly style="font-size:24px; text-align:right; padding:15px; width:100%; margin-bottom:15px;">
    <div class="calc-grid">
      <button class="calc-btn" onclick="calcInput('7')">7</button>
      <button class="calc-btn" onclick="calcInput('8')">8</button>
      <button class="calc-btn" onclick="calcInput('9')">9</button>
      <button class="calc-btn" onclick="calcInput('/')">/</button>
      <button class="calc-btn" onclick="calcInput('4')">4</button>
      <button class="calc-btn" onclick="calcInput('5')">5</button>
      <button class="calc-btn" onclick="calcInput('6')">6</button>
      <button class="calc-btn" onclick="calcInput('*')">√ó</button>
      <button class="calc-btn" onclick="calcInput('1')">1</button>
      <button class="calc-btn" onclick="calcInput('2')">2</button>
      <button class="calc-btn" onclick="calcInput('3')">3</button>
      <button class="calc-btn" onclick="calcInput('-')">-</button>
      <button class="calc-btn" onclick="calcInput('0')">0</button>
      <button class="calc-btn" onclick="calcInput('.')">.</button>
      <button class="calc-btn" onclick="calculate()">=</button>
      <button class="calc-btn" onclick="calcInput('+')">+</button>
    </div>
    <button onclick="clearCalc()" style="background:#e74c3c; margin-top:15px;">Clear</button>
  </div>
  
  <!-- Age Calculator Panel -->
  <div class="panel" id="agePanel">
    <div class="panel-header">
      <h3 class="panel-title" data-i18n="ageCalculator">Age Calculator</h3>
      <button class="close-btn" onclick="closePanel('agePanel')" data-i18n="closeBtn">Close</button>
    </div>
    <label>Date of Birth:</label>
    <input type="date" id="dob">
    <button onclick="calculateAge()">Calculate Age</button>
    <div class="result" id="ageResult"></div>
  </div>
  
  <!-- BMI Calculator Panel -->
  <div class="panel" id="bmiPanel">
    <div class="panel-header">
      <h3 class="panel-title" data-i18n="bmiCalculator">BMI Calculator</h3>
      <button class="close-btn" onclick="closePanel('bmiPanel')" data-i18n="closeBtn">Close</button>
    </div>
    <label>Weight (kg):</label>
    <input type="number" id="weight" placeholder="70">
    <label>Height (cm):</label>
    <input type="number" id="height" placeholder="175">
    <button onclick="calculateBMI()">Calculate BMI</button>
    <div class="result" id="bmiResult"></div>
  </div>
  
  <!-- EMI Calculator Panel -->
  <div class="panel" id="emiPanel">
    <div class="panel-header">
      <h3 class="panel-title" data-i18n="emiCalculator">EMI Calculator</h3>
      <button class="close-btn" onclick="closePanel('emiPanel')" data-i18n="closeBtn">Close</button>
    </div>
    <label>Loan Amount (‚Çπ):</label>
    <input type="number" id="loanAmount" placeholder="100000">
    <label>Interest Rate (% per year):</label>
    <input type="number" id="interestRate" placeholder="8.5" step="0.1">
    <label>Loan Tenure (months):</label>
    <input type="number" id="loanTenure" placeholder="60">
    <button onclick="calculateEMI()">Calculate EMI</button>
    <div class="result" id="emiResult"></div>
  </div>
  
  <!-- Currency Converter Panel -->
  <div class="panel" id="currencyPanel">
    <div class="panel-header">
      <h3 class="panel-title" data-i18n="currencyConverter">Currency Converter</h3>
      <button class="close-btn" onclick="closePanel('currencyPanel')" data-i18n="closeBtn">Close</button>
    </div>
    <label>Amount:</label>
    <input type="number" id="currencyAmount" placeholder="1000">
    <label>From:</label>
    <select id="currencyFrom">
      <option value="INR">Indian Rupee (INR)</option>
      <option value="USD">US Dollar (USD)</option>
      <option value="EUR">Euro (EUR)</option>
      <option value="GBP">British Pound (GBP)</option>
      <option value="JPY">Japanese Yen (JPY)</option>
    </select>
    <label>To:</label>
    <select id="currencyTo">
      <option value="USD">US Dollar (USD)</option>
      <option value="INR">Indian Rupee (INR)</option>
      <option value="EUR">Euro (EUR)</option>
      <option value="GBP">British Pound (GBP)</option>
      <option value="JPY">Japanese Yen (JPY)</option>
    </select>
    <button onclick="convertCurrency()">Convert</button>
    <div class="result" id="currencyResult"></div>
  </div>
  
  <!-- Unit Converter Panel -->
  <div class="panel" id="unitPanel">
    <div class="panel-header">
      <h3 class="panel-title" data-i18n="unitConverter">Unit Converter</h3>
      <button class="close-btn" onclick="closePanel('unitPanel')" data-i18n="closeBtn">Close</button>
    </div>
    <label>Value:</label>
    <input type="number" id="unitValue" placeholder="10">
    <label>From:</label>
    <select id="unitFrom">
      <option value="meters">Meters</option>
      <option value="feet">Feet</option>
      <option value="km">Kilometers</option>
      <option value="miles">Miles</option>
      <option value="kg">Kilograms</option>
      <option value="pounds">Pounds</option>
      <option value="celsius">Celsius</option>
      <option value="fahrenheit">Fahrenheit</option>
    </select>
    <label>To:</label>
    <select id="unitTo">
      <option value="feet">Feet</option>
      <option value="meters">Meters</option>
      <option value="miles">Miles</option>
      <option value="km">Kilometers</option>
      <option value="pounds">Pounds</option>
      <option value="kg">Kilograms</option>
      <option value="fahrenheit">Fahrenheit</option>
      <option value="celsius">Celsius</option>
    </select>
    <button onclick="convertUnit()">Convert</button>
    <div class="result" id="unitResult"></div>
  </div>
  
  <!-- Temperature Converter Panel -->
  <div class="panel" id="tempPanel">
    <div class="panel-header">
      <h3 class="panel-title" data-i18n="tempConverter">Temperature Converter</h3>
      <button class="close-btn" onclick="closePanel('tempPanel')" data-i18n="closeBtn">Close</button>
    </div>
    <label>Temperature:</label>
    <input type="number" id="tempValue" placeholder="25">
    <label>From:</label>
    <select id="tempFrom">
      <option value="celsius">Celsius</option>
      <option value="fahrenheit">Fahrenheit</option>
      <option value="kelvin">Kelvin</option>
    </select>
    <label>To:</label>
    <select id="tempTo">
      <option value="fahrenheit">Fahrenheit</option>
      <option value="celsius">Celsius</option>
      <option value="kelvin">Kelvin</option>
    </select>
    <button onclick="convertTemp()">Convert</button>
    <div class="result" id="tempResult"></div>
  </div>
  
  <!-- Stopwatch Panel -->
  <div class="panel" id="stopwatchPanel">
    <div class="panel-header">
      <h3 class="panel-title" data-i18n="stopwatch">Stopwatch</h3>
      <button class="close-btn" onclick="closePanel('stopwatchPanel')" data-i18n="closeBtn">Close</button>
    </div>
    <div style="font-size:48px; text-align:center; margin:20px 0;" id="stopwatchDisplay">00:00:00</div>
    <button onclick="startStopwatch()">Start</button>
    <button onclick="stopStopwatch()" style="background:#e67e22;">Stop</button>
    <button onclick="resetStopwatch()" style="background:#e74c3c;">Reset</button>
  </div>
  
  <!-- Timer Panel -->
  <div class="panel" id="timerPanel">
    <div class="panel-header">
      <h3 class="panel-title" data-i18n="timer">Timer</h3>
      <button class="close-btn" onclick="closePanel('timerPanel')" data-i18n="closeBtn">Close</button>
    </div>
    <div style="font-size:48px; text-align:center; margin:20px 0;" id="timerDisplay">00:00</div>
    <label>Minutes:</label>
    <input type="number" id="timerMinutes" placeholder="5" min="0" max="60">
    <label>Seconds:</label>
    <input type="number" id="timerSeconds" placeholder="0" min="0" max="59">
    <button onclick="startTimer()">Start Timer</button>
    <button onclick="pauseTimer()" style="background:#e67e22;">Pause</button>
    <button onclick="resetTimer()" style="background:#e74c3c;">Reset</button>
  </div>
  
  <!-- Body Measurements Panel -->
  <div class="panel" id="bodyPanel">
    <div class="panel-header">
      <h3 class="panel-title" data-i18n="bodyMeasurements">Body Measurements</h3>
      <button class="close-btn" onclick="closePanel('bodyPanel')" data-i18n="closeBtn">Close</button>
    </div>
    <label>Gender:</label>
    <select id="bodyGender">
      <option value="male">Male</option>
      <option value="female">Female</option>
    </select>
    <label>Height (cm):</label>
    <input type="number" id="bodyHeight" placeholder="175">
    <label>Weight (kg):</label>
    <input type="number" id="bodyWeight" placeholder="70">
    <label>Waist (cm):</label>
    <input type="number" id="bodyWaist" placeholder="80">
    <label>Hip (cm):</label>
    <input type="number" id="bodyHip" placeholder="95">
    <button onclick="calculateBody()">Calculate</button>
    <div class="result" id="bodyResult"></div>
  </div>
  
  <!-- Fitness Tracker Panel -->
  <div class="panel" id="fitnessPanel">
    <div class="panel-header">
      <h3 class="panel-title" data-i18n="fitnessTracker">Fitness Tracker</h3>
      <button class="close-btn" onclick="closePanel('fitnessPanel')" data-i18n="closeBtn">Close</button>
    </div>
    <label>Steps Today:</label>
    <input type="number" id="steps" placeholder="10000">
    <label>Workout Time (minutes):</label>
    <input type="number" id="workoutTime" placeholder="60">
    <label>Water Intake (liters):</label>
    <input type="number" id="waterIntake" placeholder="2" step="0.5">
    <label>Sleep Hours:</label>
    <input type="number" id="sleepHours" placeholder="8" step="0.5">
    <button onclick="trackFitness()">Calculate Fitness</button>
    <div class="result" id="fitnessResult"></div>
  </div>
  
  <!-- Blood Pressure Panel -->
  <div class="panel" id="bpPanel">
    <div class="panel-header">
      <h3 class="panel-title" data-i18n="bloodPressure">Blood Pressure Monitor</h3>
      <button class="close-btn" onclick="closePanel('bpPanel')" data-i18n="closeBtn">Close</button>
    </div>
    <label>Systolic (Upper):</label>
    <input type="number" id="systolic" placeholder="120">
    <label>Diastolic (Lower):</label>
    <input type="number" id="diastolic" placeholder="80">
    <button onclick="checkBP()">Check Blood Pressure</button>
    <div class="result" id="bpResult"></div>
  </div>
  
  <!-- Calorie Counter Panel -->
  <div class="panel" id="caloriePanel">
    <div class="panel-header">
      <h3 class="panel-title" data-i18n="calorieCounter">Calorie Counter</h3>
      <button class="close-btn" onclick="closePanel('caloriePanel')" data-i18n="closeBtn">Close</button>
    </div>
    <label>Gender:</label>
    <select id="calorieGender">
      <option value="male">Male</option>
      <option value="female">Female</option>
    </select>
    <label>Age:</label>
    <input type="number" id="calorieAge" placeholder="30">
    <label>Weight (kg):</label>
    <input type="number" id="calorieWeight" placeholder="70">
    <label>Height (cm):</label>
    <input type="number" id="calorieHeight" placeholder="175">
    <label>Activity Level:</label>
    <select id="activityLevel">
      <option value="1.2">Sedentary (little exercise)</option>
      <option value="1.375">Light (1-3 days/week)</option>
      <option value="1.55">Moderate (3-5 days/week)</option>
      <option value="1.725">Active (6-7 days/week)</option>
      <option value="1.9">Very Active (athlete)</option>
    </select>
    <button onclick="calculateCalories()">Calculate Calories</button>
    <div class="result" id="calorieResult"></div>
  </div>
  
  <!-- Discount Calculator Panel -->
  <div class="panel" id="discountPanel">
    <div class="panel-header">
      <h3 class="panel-title" data-i18n="discountCalculator">Discount Calculator</h3>
      <button class="close-btn" onclick="closePanel('discountPanel')" data-i18n="closeBtn">Close</button>
    </div>
    <label>Original Price (‚Çπ):</label>
    <input type="number" id="originalPrice" placeholder="1000">
    <label>Discount Percentage (%):</label>
    <input type="number" id="discountPercent" placeholder="20">
    <button onclick="calculateDiscount()">Calculate Discount</button>
    <div class="result" id="discountResult"></div>
  </div>
  
  <!-- GST Calculator Panel -->
  <div class="panel" id="gstPanel">
    <div class="panel-header">
      <h3 class="panel-title" data-i18n="gstCalculator">GST Calculator</h3>
      <button class="close-btn" onclick="closePanel('gstPanel')" data-i18n="closeBtn">Close</button>
    </div>
    <label>Amount (‚Çπ):</label>
    <input type="number" id="gstAmount" placeholder="1000">
    <label>GST Rate (%):</label>
    <select id="gstRate">
      <option value="5">5%</option>
      <option value="12">12%</option>
      <option value="18">18%</option>
      <option value="28">28%</option>
    </select>
    <button onclick="calculateGST()">Calculate GST</button>
    <div class="result" id="gstResult"></div>
  </div>
  
  <!-- QR Code Generator Panel -->
  <div class="panel" id="qrPanel">
    <div class="panel-header">
      <h3 class="panel-title" data-i18n="qrGenerator">QR Code Generator</h3>
      <button class="close-btn" onclick="closePanel('qrPanel')" data-i18n="closeBtn">Close</button>
    </div>
    <label>Enter Text or URL:</label>
    <input type="text" id="qrText" placeholder="https://example.com">
    <button onclick="generateQR()">Generate QR Code</button>
    <div style="text-align:center; margin-top:20px;">
      <div id="qrOutput"></div>
    </div>
  </div>
  
  <!-- Password Generator Panel -->
  <div class="panel" id="passwordPanel">
    <div class="panel-header">
      <h3 class="panel-title" data-i18n="passwordGenerator">Password Generator</h3>
      <button class="close-btn" onclick="closePanel('passwordPanel')" data-i18n="closeBtn">Close</button>
    </div>
    <label>Password Length:</label>
    <input type="number" id="passLength" value="12" min="6" max="32">
    <div style="margin:15px 0;">
      <label><input type="checkbox" id="uppercase" checked> Uppercase Letters</label><br>
      <label><input type="checkbox" id="lowercase" checked> Lowercase Letters</label><br>
      <label><input type="checkbox" id="numbers" checked> Numbers</label><br>
      <label><input type="checkbox" id="symbols" checked> Symbols</label>
    </div>
    <button onclick="generatePassword()">Generate Password</button>
    <div class="result" id="passwordResult"></div>
    <button onclick="copyPassword()" style="background:#27ae60; margin-top:10px;">Copy to Clipboard</button>
  </div>
  
  <!-- Notes Panel -->
  <div class="panel" id="notesPanel">
    <div class="panel-header">
      <h3 class="panel-title" data-i18n="notes">Notes</h3>
      <button class="close-btn" onclick="closePanel('notesPanel')" data-i18n="closeBtn">Close</button>
    </div>
    <textarea id="notesText" rows="10" placeholder="Write your notes here..."></textarea>
    <button onclick="saveNotes()">Save Notes</button>
    <div class="result" id="notesStatus" style="margin-top:10px;"></div>
  </div>
  
  <!-- To-Do List Panel -->
  <div class="panel" id="todoPanel">
    <div class="panel-header">
      <h3 class="panel-title" data-i18n="todoList">To-Do List</h3>
      <button class="close-btn" onclick="closePanel('todoPanel')" data-i18n="closeBtn">Close</button>
    </div>
    <input type="text" id="todoInput" placeholder="Enter a new task...">
    <button onclick="addTodo()">Add Task</button>
    <ul id="todoList" style="list-style:none; padding:0; margin-top:20px;"></ul>
    <button onclick="clearTodos()" style="background:#e74c3c; margin-top:10px;">Clear All</button>
  </div>
  
  <!-- Live Clock Panel -->
  <div class="panel" id="clockPanel">
    <div class="panel-header">
      <h3 class="panel-title" data-i18n="liveClock">Live Clock</h3>
      <button class="close-btn" onclick="closePanel('clockPanel')" data-i18n="closeBtn">Close</button>
    </div>
    <div style="font-size:48px; text-align:center; margin:20px 0;" id="clockDisplay"></div>
    <div style="text-align:center; font-size:20px;" id="dateDisplay"></div>
  </div>
  
  <!-- ========== NEW TOOLS PANELS ========== -->
  
  <!-- SIP Calculator Panel -->
  <div class="panel" id="sipPanel">
    <div class="panel-header">
      <h3 class="panel-title" data-i18n="sipCalculator">SIP Calculator</h3>
      <button class="close-btn" onclick="closePanel('sipPanel')" data-i18n="closeBtn">Close</button>
    </div>
    <label>Monthly Investment (‚Çπ):</label><input type="number" id="sipMonthly" placeholder="5000">
    <label>Expected Return (%/year):</label><input type="number" id="sipReturn" placeholder="12" step="0.1">
    <label>Time Period (years):</label><input type="number" id="sipYears" placeholder="10">
    <button onclick="calculateSIP()">Calculate</button>
    <div class="result" id="sipResult"></div>
  </div>
  
  <!-- Loan Calculator Panel -->
  <div class="panel" id="loanPanel">
    <div class="panel-header">
      <h3 class="panel-title" data-i18n="loanCalculator">Loan Calculator</h3>
      <button class="close-btn" onclick="closePanel('loanPanel')" data-i18n="closeBtn">Close</button>
    </div>
    <label>Loan Amount (‚Çπ):</label><input type="number" id="loanAmount2" placeholder="1000000">
    <label>Interest Rate (%):</label><input type="number" id="loanRate" placeholder="8.5" step="0.1">
    <label>Tenure (years):</label><input type="number" id="loanYears" placeholder="20">
    <button onclick="calculateLoan()">Calculate</button>
    <div class="result" id="loanResult"></div>
  </div>
  
  <!-- Scientific Calculator Panel -->
  <div class="panel" id="scientificPanel">
    <div class="panel-header">
      <h3 class="panel-title" data-i18n="scientificCalculator">Scientific Calculator</h3>
      <button class="close-btn" onclick="closePanel('scientificPanel')" data-i18n="closeBtn">Close</button>
    </div>
    <input type="text" id="sciDisplay" readonly style="font-size:24px; text-align:right; padding:15px; width:100%; margin-bottom:15px;">
    <div class="calc-grid">
      <button class="calc-btn" onclick="sciInput('(')">(</button><button class="calc-btn" onclick="sciInput(')')">)</button><button class="calc-btn" onclick="sciInput('œÄ')">œÄ</button><button class="calc-btn" onclick="sciInput('^')">^</button>
      <button class="calc-btn" onclick="sciInput('sin(')">sin</button><button class="calc-btn" onclick="sciInput('cos(')">cos</button><button class="calc-btn" onclick="sciInput('tan(')">tan</button><button class="calc-btn" onclick="sciInput('log(')">log</button>
      <button class="calc-btn" onclick="sciInput('7')">7</button><button class="calc-btn" onclick="sciInput('8')">8</button><button class="calc-btn" onclick="sciInput('9')">9</button><button class="calc-btn" onclick="sciInput('/')">/</button>
      <button class="calc-btn" onclick="sciInput('4')">4</button><button class="calc-btn" onclick="sciInput('5')">5</button><button class="calc-btn" onclick="sciInput('6')">6</button><button class="calc-btn" onclick="sciInput('*')">√ó</button>
      <button class="calc-btn" onclick="sciInput('1')">1</button><button class="calc-btn" onclick="sciInput('2')">2</button><button class="calc-btn" onclick="sciInput('3')">3</button><button class="calc-btn" onclick="sciInput('-')">-</button>
      <button class="calc-btn" onclick="sciInput('0')">0</button><button class="calc-btn" onclick="sciInput('.')">.</button><button class="calc-btn" onclick="sciCalculate()">=</button><button class="calc-btn" onclick="sciInput('+')">+</button>
    </div>
    <button onclick="document.getElementById('sciDisplay').value=''" style="background:#e74c3c; margin-top:15px;">Clear</button>
  </div>
  
  <!-- Time Zone Converter Panel -->
  <div class="panel" id="timezonePanel">
    <div class="panel-header">
      <h3 class="panel-title" data-i18n="timeZone">Time Zone Converter</h3>
      <button class="close-btn" onclick="closePanel('timezonePanel')" data-i18n="closeBtn">Close</button>
    </div>
    <label>Select Time Zone:</label>
    <select id="tzSelect" onchange="updateTZTime()">
      <option value="Asia/Kolkata">India (IST)</option>
      <option value="America/New_York">New York (EST)</option>
      <option value="Europe/London">London (GMT)</option>
      <option value="Asia/Tokyo">Tokyo (JST)</option>
      <option value="Australia/Sydney">Sydney (AEST)</option>
    </select>
    <div style="font-size:32px; text-align:center; margin:20px 0; padding:15px; background:var(--bg); border-radius:8px;" id="tzTimeDisplay"></div>
    <button onclick="updateTZTime()">Refresh Time</button>
  </div>
  
  <!-- Tip Calculator Panel -->
  <div class="panel" id="tipPanel">
    <div class="panel-header">
      <h3 class="panel-title" data-i18n="tipCalculator">Tip Calculator</h3>
      <button class="close-btn" onclick="closePanel('tipPanel')" data-i18n="closeBtn">Close</button>
    </div>
    <label>Bill Amount (‚Çπ):</label><input type="number" id="billAmount" placeholder="1000">
    <label>Tip Percentage (%):</label><input type="number" id="tipPercent" placeholder="10" step="0.5">
    <label>Number of People:</label><input type="number" id="tipPeople" placeholder="1" min="1">
    <button onclick="calculateTip()">Calculate Tip</button>
    <div class="result" id="tipResult"></div>
  </div>
  
  <!-- Fuel Cost Calculator Panel -->
  <div class="panel" id="fuelPanel">
    <div class="panel-header">
      <h3 class="panel-title" data-i18n="fuelCalculator">Fuel Cost Calculator</h3>
      <button class="close-btn" onclick="closePanel('fuelPanel')" data-i18n="closeBtn">Close</button>
    </div>
    <label>Distance (km):</label><input type="number" id="fuelDistance" placeholder="100">
    <label>Fuel Efficiency (km/litre):</label><input type="number" id="fuelEfficiency" placeholder="15" step="0.1">
    <label>Fuel Price (‚Çπ/litre):</label><input type="number" id="fuelPrice" placeholder="100" step="0.1">
    <button onclick="calculateFuel()">Calculate Cost</button>
    <div class="result" id="fuelResult"></div>
  </div>
  
  <!-- Area Calculator Panel -->
  <div class="panel" id="areaPanel">
    <div class="panel-header">
      <h3 class="panel-title" data-i18n="areaCalculator">Area Calculator</h3>
      <button class="close-btn" onclick="closePanel('areaPanel')" data-i18n="closeBtn">Close</button>
    </div>
    <label>Select Shape:</label>
    <select id="areaShape" onchange="changeAreaInputs()">
      <option value="square">Square</option><option value="rectangle">Rectangle</option>
      <option value="circle">Circle</option><option value="triangle">Triangle</option>
    </select>
    <div id="areaInputs">
      <label>Side (m):</label><input type="number" id="areaSide1" placeholder="10">
    </div>
    <button onclick="calculateArea()">Calculate Area</button>
    <div class="result" id="areaResult"></div>
  </div>
  
  <!-- Speed Calculator Panel -->
  <div class="panel" id="speedPanel">
    <div class="panel-header">
      <h3 class="panel-title" data-i18n="speedCalculator">Speed Calculator</h3>
      <button class="close-btn" onclick="closePanel('speedPanel')" data-i18n="closeBtn">Close</button>
    </div>
    <label>Distance (km):</label><input type="number" id="speedDistance" placeholder="100">
    <label>Time (hours):</label><input type="number" id="speedTime" placeholder="2" step="0.1">
    <button onclick="calculateSpeed()">Calculate Speed</button>
    <div class="result" id="speedResult"></div>
  </div>
  
  <!-- Days Between Dates Panel -->
  <div class="panel" id="dateDiffPanel">
    <div class="panel-header">
      <h3 class="panel-title" data-i18n="dateCalculator">Days Between Dates</h3>
      <button class="close-btn" onclick="closePanel('dateDiffPanel')" data-i18n="closeBtn">Close</button>
    </div>
    <label>Start Date:</label><input type="date" id="startDate">
    <label>End Date:</label><input type="date" id="endDate">
    <button onclick="calculateDateDiff()">Calculate Difference</button>
    <div class="result" id="dateDiffResult"></div>
  </div>
  
  <!-- Text Counter Panel -->
  <div class="panel" id="textCounterPanel">
    <div class="panel-header">
      <h3 class="panel-title" data-i18n="textCounter">Text Counter</h3>
      <button class="close-btn" onclick="closePanel('textCounterPanel')" data-i18n="closeBtn">Close</button>
    </div>
    <label>Enter Text:</label>
    <textarea id="counterText" rows="6" placeholder="Type or paste your text here..." oninput="updateTextCount()"></textarea>
    <div class="result" id="textCounterResult" style="margin-top:15px;">
      Characters: <span id="charCount">0</span> | 
      Words: <span id="wordCount">0</span> | 
      Lines: <span id="lineCount">0</span>
    </div>
  </div>
  
  <!-- Random Generator Panel -->
  <div class="panel" id="randomPanel">
    <div class="panel-header">
      <h3 class="panel-title" data-i18n="randomGenerator">Random Generator</h3>
      <button class="close-btn" onclick="closePanel('randomPanel')" data-i18n="closeBtn">Close</button>
    </div>
    <label>Generate:</label>
    <select id="randomType">
      <option value="number">Random Number</option>
      <option value="coin">Coin Toss</option>
      <option value="dice">Dice Roll</option>
      <option value="picker">List Picker</option>
    </select>
    <div id="randomOptions">
      <label>Min:</label><input type="number" id="randMin" value="1">
      <label>Max:</label><input type="number" id="randMax" value="100">
    </div>
    <button onclick="generateRandom()">Generate</button>
    <div class="result" id="randomResult"></div>
  </div>
  
  <!-- BMI Range Chart Panel -->
  <div class="panel" id="bmiRangePanel">
    <div class="panel-header">
      <h3 class="panel-title" data-i18n="bmiChart">BMI Range Chart</h3>
      <button class="close-btn" onclick="closePanel('bmiRangePanel')" data-i18n="closeBtn">Close</button>
    </div>
    <div style="padding:15px; background:var(--bg); border-radius:8px; margin-bottom:15px;">
      <strong>BMI Categories:</strong><br>
      ‚Ä¢ Underweight: &lt; 18.5<br>
      ‚Ä¢ Normal: 18.5 ‚Äì 24.9<br>
      ‚Ä¢ Overweight: 25 ‚Äì 29.9<br>
      ‚Ä¢ Obesity Class I: 30 ‚Äì 34.9<br>
      ‚Ä¢ Obesity Class II: 35 ‚Äì 39.9<br>
      ‚Ä¢ Obesity Class III: ‚â• 40
    </div>
    <label>Enter Your BMI:</label>
    <input type="number" id="yourBMI" placeholder="e.g., 22.5" step="0.1">
    <button onclick="checkBMIRange()">Check My Category</button>
    <div class="result" id="bmiRangeResult"></div>
  </div>
  
  <!-- Water Intake Calculator Panel -->
  <div class="panel" id="waterPanel">
    <div class="panel-header">
      <h3 class="panel-title" data-i18n="waterCalculator">Water Intake Calculator</h3>
      <button class="close-btn" onclick="closePanel('waterPanel')" data-i18n="closeBtn">Close</button>
    </div>
    <label>Weight (kg):</label><input type="number" id="waterWeight" placeholder="70">
    <label>Activity Level:</label>
    <select id="waterActivity">
      <option value="1.2">Low (Sedentary)</option>
      <option value="1.5">Moderate</option>
      <option value="1.8">High (Active)</option>
      <option value="2.0">Very High (Athlete)</option>
    </select>
    <button onclick="calculateWater()">Calculate</button>
    <div class="result" id="waterResult"></div>
  </div>
  
  <script>
    // ====================
    // PWA - Service Worker Registration
    // ====================
    if ('serviceWorker' in navigator) {
      window.addEventListener('load', () => {
        navigator.serviceWorker.register('service-worker.js')
          .then(registration => {
            console.log('ServiceWorker registration successful with scope: ', registration.scope);
            
            registration.addEventListener('updatefound', () => {
              const newWorker = registration.installing;
              console.log('New service worker found!');
              
              newWorker.addEventListener('statechange', () => {
                if (newWorker.state === 'installed' && navigator.serviceWorker.controller) {
                  if (confirm('New version available! Reload to update?')) {
                    window.location.reload();
                  }
                }
              });
            });
          })
          .catch(error => {
            console.log('ServiceWorker registration failed: ', error);
          });
      });
    }
    
    // Install prompt
    let deferredPrompt;
    window.addEventListener('beforeinstallprompt', (e) => {
      e.preventDefault();
      deferredPrompt = e;
      
      const installBtn = document.createElement('button');
      installBtn.textContent = 'üì± Install App';
      installBtn.style.cssText = `
        position: fixed;
        bottom: 20px;
        right: 20px;
        background: var(--primary);
        color: white;
        border: none;
        padding: 10px 15px;
        border-radius: 20px;
        cursor: pointer;
        z-index: 1000;
        box-shadow: 0 4px 12px rgba(0,0,0,0.2);
      `;
      installBtn.onclick = () => {
        installBtn.style.display = 'none';
        deferredPrompt.prompt();
        deferredPrompt.userChoice.then(choiceResult => {
          if (choiceResult.outcome === 'accepted') {
            console.log('User accepted install');
          }
          deferredPrompt = null;
        });
      };
      document.body.appendChild(installBtn);
    });

    // ====================
    // BASIC FUNCTIONS
    // ====================
    
    // Theme Toggle (Dark/Light Mode)
    document.getElementById('themeToggle').onclick = function() {
      const current = document.body.getAttribute('data-theme');
      if (current === 'light') {
        document.body.setAttribute('data-theme', 'dark');
        this.textContent = '‚òÄÔ∏è Light Mode';
        localStorage.setItem('theme', 'dark');
      } else {
        document.body.setAttribute('data-theme', 'light');
        this.textContent = 'üåô Dark Mode';
        localStorage.setItem('theme', 'light');
      }
    };
    
    // Panel Control Functions
    function openPanel(panelId) {
      document.getElementById(panelId).classList.add('active');
      document.getElementById('overlay').style.display = 'block';
    }
    
    function closePanel(panelId) {
      document.getElementById(panelId).classList.remove('active');
      document.getElementById('overlay').style.display = 'none';
    }
    
    // Close overlay when clicked
    document.getElementById('overlay').onclick = function() {
      document.querySelectorAll('.panel.active').forEach(panel => {
        panel.classList.remove('active');
      });
      this.style.display = 'none';
    };
    
    // ====================
    // TOOL CLICK HANDLERS
    // ====================
    
    // Add click events to all tool items
    document.querySelectorAll('.tool-item').forEach(item => {
      item.addEventListener('click', function() {
        const panelName = this.getAttribute('data-panel');
        const panelId = panelName + 'Panel';
        openPanel(panelId);
        
        // Track tool usage for statistics
        trackToolUsage(panelName);
        
        // Add to recent tools
        addToRecent(panelName);
      });
    });
    
    // ====================
    // SEARCH FUNCTIONALITY
    // ====================
    function initSearch() {
      const searchBox = document.getElementById('searchBox');
      const clearSearch = document.getElementById('clearSearch');
      const toolItems = document.querySelectorAll('.tool-item');
      
      // Search functionality
      searchBox.addEventListener('input', function() {
        const searchTerm = this.value.toLowerCase().trim();
        
        if (searchTerm) {
          clearSearch.style.display = 'block';
        } else {
          clearSearch.style.display = 'none';
        }
        
        let hasResults = false;
        
        toolItems.forEach(item => {
          const toolName = item.querySelector('.tool-name').textContent.toLowerCase();
          
          if (toolName.includes(searchTerm)) {
            item.style.display = 'flex';
            item.classList.add('highlight');
            hasResults = true;
          } else {
            item.style.display = 'none';
            item.classList.remove('highlight');
          }
        });
        
        // Show message if no results
        const noResultsMsg = document.getElementById('noResults');
        if (!hasResults && searchTerm) {
          if (!noResultsMsg) {
            const msg = document.createElement('div');
            msg.id = 'noResults';
            msg.style.textAlign = 'center';
            msg.style.padding = '20px';
            msg.style.color = 'var(--muted)';
            msg.textContent = `No tools found for "${searchTerm}"`;
            document.querySelector('.tools-grid').appendChild(msg);
          }
        } else if (noResultsMsg) {
          noResultsMsg.remove();
        }
      });
      
      // Clear search button
      clearSearch.addEventListener('click', function() {
        searchBox.value = '';
        this.style.display = 'none';
        toolItems.forEach(item => {
          item.style.display = 'flex';
          item.classList.remove('highlight');
        });
        const noResultsMsg = document.getElementById('noResults');
        if (noResultsMsg) noResultsMsg.remove();
      });
      
      // Clear search on Escape key
      searchBox.addEventListener('keydown', function(e) {
        if (e.key === 'Escape') {
          this.value = '';
          clearSearch.click();
        }
      });
    }
    
    // ====================
    // FAVORITES FUNCTIONALITY
    // ====================
    function initFavorites() {
      const favoritesBtn = document.getElementById('showFavorites');
      const favoriteStars = document.querySelectorAll('.favorite-star');
      const toolItems = document.querySelectorAll('.tool-item');
      
      // Load favorites from localStorage
      let favorites = JSON.parse(localStorage.getItem('favorites')) || [];
      
      // Update star icons based on saved favorites
      favoriteStars.forEach(star => {
        const toolId = star.getAttribute('data-tool-id');
        if (favorites.includes(toolId)) {
          star.textContent = '‚òÖ';
          star.classList.add('active');
        } else {
          star.textContent = '‚òÜ';
          star.classList.remove('active');
        }
        
        // Toggle favorite on click
        star.addEventListener('click', function(e) {
          e.stopPropagation(); // Prevent opening the tool panel
          const toolId = this.getAttribute('data-tool-id');
          
          if (favorites.includes(toolId)) {
            // Remove from favorites
            favorites = favorites.filter(id => id !== toolId);
            this.textContent = '‚òÜ';
            this.classList.remove('active');
          } else {
            // Add to favorites
            favorites.push(toolId);
            this.textContent = '‚òÖ';
            this.classList.add('active');
          }
          
          localStorage.setItem('favorites', JSON.stringify(favorites));
          
          // If we're in favorites view, update the list
          if (favoritesBtn.classList.contains('active')) {
            filterFavorites();
          }
        });
      });
      
      // Toggle favorites view
      let showingFavorites = false;
      favoritesBtn.addEventListener('click', function() {
        showingFavorites = !showingFavorites;
        
        if (showingFavorites) {
          this.classList.add('active');
          this.textContent = '‚≠ê All Tools';
          filterFavorites();
        } else {
          this.classList.remove('active');
          this.textContent = '‚≠ê Favorites';
          showAllTools();
        }
      });
      
      function filterFavorites() {
        toolItems.forEach(item => {
          const star = item.querySelector('.favorite-star');
          const toolId = star.getAttribute('data-tool-id');
          
          if (favorites.includes(toolId)) {
            item.style.display = 'flex';
          } else {
            item.style.display = 'none';
          }
        });
      }
      
      function showAllTools() {
        toolItems.forEach(item => {
          item.style.display = 'flex';
        });
      }
    }
    
    // ====================
    // RECENT TOOLS FUNCTIONALITY
    // ====================
    let recentTools = JSON.parse(localStorage.getItem('recentTools')) || [];
    
    function addToRecent(toolId) {
      // Remove if already exists
      recentTools = recentTools.filter(id => id !== toolId);
      
      // Add to beginning
      recentTools.unshift(toolId);
      
      // Keep only last 5
      if (recentTools.length > 5) {
        recentTools.pop();
      }
      
      localStorage.setItem('recentTools', JSON.stringify(recentTools));
      updateRecentToolsDisplay();
    }
    
    function updateRecentToolsDisplay() {
      const recentToolsContainer = document.getElementById('recentToolsContainer');
      const recentToolsElement = document.getElementById('recentTools');
      
      recentToolsElement.innerHTML = '';
      
      if (recentTools.length > 0) {
        recentToolsContainer.style.display = 'block';
        
        // Tool name mapping with translations
        const toolNames = {
          'calc': translations['calculator'] || 'Calculator',
          'age': translations['ageCalculator'] || 'Age Calculator',
          'bmi': translations['bmiCalculator'] || 'BMI Calculator',
          'emi': translations['emiCalculator'] || 'EMI Calculator',
          'sip': translations['sipCalculator'] || 'SIP Calculator',
          'unit': translations['unitConverter'] || 'Unit Converter',
          'temp': translations['tempConverter'] || 'Temperature Converter',
          'currency': translations['currencyConverter'] || 'Currency Converter',
          'loan': translations['loanCalculator'] || 'Loan Calculator',
          'scientific': translations['scientificCalculator'] || 'Scientific Calculator',
          'timezone': translations['timeZone'] || 'Time Zone',
          'tip': translations['tipCalculator'] || 'Tip Calculator',
          'fuel': translations['fuelCalculator'] || 'Fuel Cost',
          'area': translations['areaCalculator'] || 'Area Calculator',
          'speed': translations['speedCalculator'] || 'Speed Calculator',
          'dateDiff': translations['dateCalculator'] || 'Days Between Dates',
          'textCounter': translations['textCounter'] || 'Text Counter',
          'random': translations['randomGenerator'] || 'Random Generator',
          'bmiRange': translations['bmiChart'] || 'BMI Range Chart',
          'water': translations['waterCalculator'] || 'Water Intake',
          'body': translations['bodyMeasurements'] || 'Body Measurements',
          'fitness': translations['fitnessTracker'] || 'Fitness Tracker',
          'bp': translations['bloodPressure'] || 'Blood Pressure',
          'calorie': translations['calorieCounter'] || 'Calorie Counter',
          'stopwatch': translations['stopwatch'] || 'Stopwatch',
          'timer': translations['timer'] || 'Timer',
          'clock': translations['liveClock'] || 'Live Clock',
          'discount': translations['discountCalculator'] || 'Discount Calculator',
          'gst': translations['gstCalculator'] || 'GST Calculator',
          'qr': translations['qrGenerator'] || 'QR Code Generator',
          'password': translations['passwordGenerator'] || 'Password Generator',
          'notes': translations['notes'] || 'Notes',
          'todo': translations['todoList'] || 'To-Do List'
        };
        
        recentTools.forEach(toolId => {
          const toolDiv = document.createElement('div');
          toolDiv.className = 'recent-tool';
          toolDiv.textContent = toolNames[toolId] || toolId;
          toolDiv.onclick = () => {
            openPanel(toolId + 'Panel');
          };
          recentToolsElement.appendChild(toolDiv);
        });
      } else {
        recentToolsContainer.style.display = 'none';
      }
    }
    
    // ====================
    // THEMES FUNCTIONALITY
    // ====================
    function initThemes() {
      const themesBtn = document.getElementById('themesBtn');
      const themesDropdown = document.getElementById('themesDropdown');
      const themeOptions = document.querySelectorAll('.theme-option');
      
      // Load saved color theme
      const savedColor = localStorage.getItem('appColor') || 'blue';
      document.body.setAttribute('data-color', savedColor);
      
      // Highlight current theme
      themeOptions.forEach(option => {
        if (option.getAttribute('data-color') === savedColor) {
          option.style.background = 'var(--bg)';
        }
      });
      
      // Toggle dropdown
      themesBtn.addEventListener('click', function(e) {
        e.stopPropagation();
        themesDropdown.classList.toggle('show');
      });
      
      // Close dropdown when clicking outside
      document.addEventListener('click', function() {
        themesDropdown.classList.remove('show');
      });
      
      // Change theme
      themeOptions.forEach(option => {
        option.addEventListener('click', function() {
          const selectedColor = this.getAttribute('data-color');
          
          // Update body color theme
          document.body.setAttribute('data-color', selectedColor);
          localStorage.setItem('appColor', selectedColor);
          
          // Update highlight
          themeOptions.forEach(opt => {
            opt.style.background = '';
          });
          this.style.background = 'var(--bg)';
          
          // Close dropdown
          themesDropdown.classList.remove('show');
        });
      });
    }
    
    // ====================
    // MULTI-LANGUAGE SUPPORT
    // ====================
    
    let currentLanguage = 'en';
    let translations = {};
    
    // Load language file
    async function loadLanguage(lang) {
      try {
        const response = await fetch(`locales/${lang}.json`);
        translations = await response.json();
        currentLanguage = lang;
        localStorage.setItem('appLanguage', lang);
        applyTranslations();
      } catch (error) {
        console.error('Error loading language file:', error);
        // Fallback to English
        if (lang !== 'en') {
          loadLanguage('en');
        }
      }
    }
    
    // Apply translations to all elements
    function applyTranslations() {
      // Update all elements with data-i18n attribute
      document.querySelectorAll('[data-i18n]').forEach(element => {
        const key = element.getAttribute('data-i18n');
        if (translations[key]) {
          if (element.tagName === 'INPUT' && element.type === 'text') {
            element.placeholder = translations[key];
          } else {
            element.textContent = translations[key];
          }
        }
      });
      
      // Update theme button text (special case)
      const themeBtn = document.getElementById('themeToggle');
      const isDark = document.body.getAttribute('data-theme') === 'dark';
      themeBtn.textContent = isDark ? (translations['lightModeBtn'] || '‚òÄÔ∏è Light Mode') : (translations['darkModeBtn'] || 'üåô Dark Mode');
      
      // Update page title
      document.title = translations['appTitle'] || 'All Useful Tools Pro';
      
      // Update HTML lang attribute
      document.documentElement.lang = currentLanguage;
      
      // Update tool names in recent tools
      updateRecentToolsDisplay();
    }
    
    // Initialize language selector
    function initLanguageSelector() {
      const languageBtn = document.getElementById('languageBtn');
      const languageDropdown = document.getElementById('languageDropdown');
      const languageOptions = document.querySelectorAll('.language-option');
      
      // Load saved language
      const savedLang = localStorage.getItem('appLanguage') || 'en';
      loadLanguage(savedLang);
      
      // Toggle dropdown
      languageBtn.addEventListener('click', function(e) {
        e.stopPropagation();
        languageDropdown.classList.toggle('show');
      });
      
      // Close dropdown when clicking outside
      document.addEventListener('click', function() {
        languageDropdown.classList.remove('show');
      });
      
      // Change language
      languageOptions.forEach(option => {
        option.addEventListener('click', function() {
          const selectedLang = this.getAttribute('data-lang');
          loadLanguage(selectedLang);
          
          // Update highlight
          languageOptions.forEach(opt => {
            opt.style.background = '';
          });
          this.style.background = 'var(--bg)';
          
          // Close dropdown
          languageDropdown.classList.remove('show');
        });
        
        // Highlight current language
        if (option.getAttribute('data-lang') === savedLang) {
          option.style.background = 'var(--bg)';
        }
      });
    }
    
    // ====================
    // DATA EXPORT/IMPORT
    // ====================
    function exportData() {
      const data = {
        notes: localStorage.getItem('myNotes') || '',
        todos: localStorage.getItem('todos') || '[]',
        favorites: localStorage.getItem('favorites') || '[]',
        recentTools: localStorage.getItem('recentTools') || '[]',
        appColor: localStorage.getItem('appColor') || 'blue',
        theme: localStorage.getItem('theme') || 'light',
        usageStats: localStorage.getItem('usageStats') || '{}',
        generatedPassword: localStorage.getItem('generatedPassword') || '',
        appLanguage: localStorage.getItem('appLanguage') || 'en'
      };
      
      const blob = new Blob([JSON.stringify(data, null, 2)], { type: 'application/json' });
      const url = URL.createObjectURL(blob);
      
      const a = document.createElement('a');
      a.href = url;
      a.download = `useful-tools-backup-${new Date().toISOString().split('T')[0]}.json`;
      document.body.appendChild(a);
      a.click();
      document.body.removeChild(a);
      
      alert('Data exported successfully!');
    }
    
    function importData() {
      document.getElementById('importFile').click();
    }
    
    // Handle file import
    document.getElementById('importFile').addEventListener('change', function(e) {
      const file = e.target.files[0];
      if (!file) return;
      
      const reader = new FileReader();
      reader.onload = function(event) {
        try {
          const data = JSON.parse(event.target.result);
          
          // Validate data structure
          if (data.notes !== undefined) localStorage.setItem('myNotes', data.notes);
          if (data.todos) localStorage.setItem('todos', data.todos);
          if (data.favorites) localStorage.setItem('favorites', data.favorites);
          if (data.recentTools) localStorage.setItem('recentTools', data.recentTools);
          if (data.appColor) localStorage.setItem('appColor', data.appColor);
          if (data.theme) localStorage.setItem('theme', data.theme);
          if (data.usageStats) localStorage.setItem('usageStats', data.usageStats);
          if (data.generatedPassword) localStorage.setItem('generatedPassword', data.generatedPassword);
          if (data.appLanguage) localStorage.setItem('appLanguage', data.appLanguage);
          
          alert('Data imported successfully! Page will reload.');
          setTimeout(() => location.reload(), 1000);
        } catch (error) {
          alert('Error importing data. Invalid file format.');
        }
      };
      
      reader.readAsText(file);
      this.value = ''; // Reset file input
    });
    
    // ====================
    // USAGE STATISTICS
    // ====================
    function trackToolUsage(toolId) {
      let stats = JSON.parse(localStorage.getItem('usageStats')) || {};
      
      if (!stats[toolId]) {
        stats[toolId] = 0;
      }
      
      stats[toolId]++;
      localStorage.setItem('usageStats', JSON.stringify(stats));
    }
    
    // ====================
    // ORIGINAL TOOL FUNCTIONS
    // ====================
    
    // CALCULATOR
    let calcDisplay = document.getElementById('calcDisplay');
    
    function calcInput(value) {
      calcDisplay.value += value;
    }
    
    function calculate() {
      try {
        calcDisplay.value = eval(calcDisplay.value.replace('√ó', '*'));
      } catch {
        calcDisplay.value = 'Error';
      }
    }
    
    function clearCalc() {
      calcDisplay.value = '';
    }
    
    // AGE CALCULATOR
    function calculateAge() {
      const dob = document.getElementById('dob').value;
      if (!dob) {
        alert('Please select date of birth');
        return;
      }
      
      const birthDate = new Date(dob);
      const today = new Date();
      
      let years = today.getFullYear() - birthDate.getFullYear();
      let months = today.getMonth() - birthDate.getMonth();
      let days = today.getDate() - birthDate.getDate();
      
      if (days < 0) {
        months--;
        days += new Date(today.getFullYear(), today.getMonth(), 0).getDate();
      }
      
      if (months < 0) {
        years--;
        months += 12;
      }
      
      document.getElementById('ageResult').innerHTML = 
        `Age: ${years} years, ${months} months, ${days} days`;
    }
    
    // BMI CALCULATOR
    function calculateBMI() {
      const weight = parseFloat(document.getElementById('weight').value);
      const height = parseFloat(document.getElementById('height').value) / 100;
      
      if (!weight || !height) {
        alert('Please enter weight and height');
        return;
      }
      
      const bmi = weight / (height * height);
      let category = '';
      
      if (bmi < 18.5) category = 'Underweight';
      else if (bmi < 25) category = 'Normal';
      else if (bmi < 30) category = 'Overweight';
      else category = 'Obese';
      
      document.getElementById('bmiResult').innerHTML = 
        `BMI: ${bmi.toFixed(1)} (${category})`;
    }
    
    // EMI CALCULATOR
    function calculateEMI() {
      const principal = parseFloat(document.getElementById('loanAmount').value);
      const rate = parseFloat(document.getElementById('interestRate').value) / 12 / 100;
      const months = parseFloat(document.getElementById('loanTenure').value);
      
      if (!principal || !rate || !months) {
        alert('Please fill all fields');
        return;
      }
      
      const emi = principal * rate * Math.pow(1 + rate, months) / (Math.pow(1 + rate, months) - 1);
      const totalPayment = emi * months;
      const totalInterest = totalPayment - principal;
      
      document.getElementById('emiResult').innerHTML = 
        `Monthly EMI: ‚Çπ${emi.toFixed(2)}<br>
         Total Payment: ‚Çπ${totalPayment.toFixed(2)}<br>
         Total Interest: ‚Çπ${totalInterest.toFixed(2)}`;
    }
    
    // CURRENCY CONVERTER
    const exchangeRates = {
      'INR': { 'USD': 0.012, 'EUR': 0.011, 'GBP': 0.0095, 'JPY': 1.80, 'INR': 1 },
      'USD': { 'INR': 83.33, 'EUR': 0.92, 'GBP': 0.79, 'JPY': 150, 'USD': 1 },
      'EUR': { 'INR': 90.91, 'USD': 1.09, 'GBP': 0.86, 'JPY': 163, 'EUR': 1 },
      'GBP': { 'INR': 105.26, 'USD': 1.26, 'EUR': 1.16, 'JPY': 189, 'GBP': 1 },
      'JPY': { 'INR': 0.56, 'USD': 0.0067, 'EUR': 0.0061, 'GBP': 0.0053, 'JPY': 1 }
    };
    
    function convertCurrency() {
      const amount = parseFloat(document.getElementById('currencyAmount').value);
      const from = document.getElementById('currencyFrom').value;
      const to = document.getElementById('currencyTo').value;
      
      if (!amount) {
        alert('Please enter amount');
        return;
      }
      
      const rate = exchangeRates[from][to];
      const result = amount * rate;
      
      document.getElementById('currencyResult').innerHTML = 
        `${amount} ${from} = ${result.toFixed(2)} ${to}`;
    }
    
    // UNIT CONVERTER
    function convertUnit() {
      const value = parseFloat(document.getElementById('unitValue').value);
      const from = document.getElementById('unitFrom').value;
      const to = document.getElementById('unitTo').value;
      
      if (!value) {
        alert('Please enter a value');
        return;
      }
      
      if (from === 'celsius' && to === 'fahrenheit') {
        const result = (value * 9/5) + 32;
        document.getElementById('unitResult').innerHTML = 
          `${value}¬∞C = ${result.toFixed(2)}¬∞F`;
        return;
      }
      if (from === 'fahrenheit' && to === 'celsius') {
        const result = (value - 32) * 5/9;
        document.getElementById('unitResult').innerHTML = 
          `${value}¬∞F = ${result.toFixed(2)}¬∞C`;
        return;
      }
      
      const conversions = {
        'meters': 1,
        'feet': 0.3048,
        'km': 1000,
        'miles': 1609.34,
        'kg': 1,
        'pounds': 0.453592
      };
      
      if (conversions[from] && conversions[to]) {
        const inBase = value * conversions[from];
        const result = inBase / conversions[to];
        document.getElementById('unitResult').innerHTML = 
          `${value} ${from} = ${result.toFixed(2)} ${to}`;
      }
    }
    
    // TEMPERATURE CONVERTER
    function convertTemp() {
      const value = parseFloat(document.getElementById('tempValue').value);
      const from = document.getElementById('tempFrom').value;
      const to = document.getElementById('tempTo').value;
      
      if (isNaN(value)) {
        alert('Please enter temperature');
        return;
      }
      
      let celsius = value;
      if (from === 'fahrenheit') celsius = (value - 32) * 5/9;
      else if (from === 'kelvin') celsius = value - 273.15;
      
      let result = celsius;
      if (to === 'fahrenheit') result = (celsius * 9/5) + 32;
      else if (to === 'kelvin') result = celsius + 273.15;
      
      document.getElementById('tempResult').innerHTML = 
        `${value}¬∞${from.charAt(0).toUpperCase()} = ${result.toFixed(2)}¬∞${to.charAt(0).toUpperCase()}`;
    }
    
    // STOPWATCH
    let stopwatchInterval;
    let stopwatchSeconds = 0;
    
    function startStopwatch() {
      if (stopwatchInterval) return;
      
      stopwatchInterval = setInterval(() => {
        stopwatchSeconds++;
        updateStopwatchDisplay();
      }, 1000);
    }
    
    function stopStopwatch() {
      clearInterval(stopwatchInterval);
      stopwatchInterval = null;
    }
    
    function resetStopwatch() {
      stopStopwatch();
      stopwatchSeconds = 0;
      updateStopwatchDisplay();
    }
    
    function updateStopwatchDisplay() {
      const hours = Math.floor(stopwatchSeconds / 3600);
      const minutes = Math.floor((stopwatchSeconds % 3600) / 60);
      const seconds = stopwatchSeconds % 60;
      
      document.getElementById('stopwatchDisplay').textContent = 
        `${hours.toString().padStart(2, '0')}:${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
    }
    
    // TIMER
    let timerInterval;
    let timerSeconds = 0;
    let isTimerRunning = false;
    
    function startTimer() {
      if (isTimerRunning) return;
      
      const minutes = parseInt(document.getElementById('timerMinutes').value) || 0;
      const seconds = parseInt(document.getElementById('timerSeconds').value) || 0;
      
      timerSeconds = minutes * 60 + seconds;
      
      if (timerSeconds <= 0) {
        alert('Please set timer duration');
        return;
      }
      
      isTimerRunning = true;
      updateTimerDisplay();
      
      timerInterval = setInterval(() => {
        timerSeconds--;
        updateTimerDisplay();
        
        if (timerSeconds <= 0) {
          clearInterval(timerInterval);
          isTimerRunning = false;
          alert('‚è∞ Timer Finished!');
        }
      }, 1000);
    }
    
    function pauseTimer() {
      clearInterval(timerInterval);
      isTimerRunning = false;
    }
    
    function resetTimer() {
      clearInterval(timerInterval);
      isTimerRunning = false;
      timerSeconds = 0;
      updateTimerDisplay();
    }
    
    function updateTimerDisplay() {
      const minutes = Math.floor(timerSeconds / 60);
      const seconds = timerSeconds % 60;
      
      document.getElementById('timerDisplay').textContent = 
        `${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
    }
    
    // BODY MEASUREMENTS
    function calculateBody() {
      const gender = document.getElementById('bodyGender').value;
      const height = parseFloat(document.getElementById('bodyHeight').value);
      const weight = parseFloat(document.getElementById('bodyWeight').value);
      const waist = parseFloat(document.getElementById('bodyWaist').value);
      const hip = parseFloat(document.getElementById('bodyHip').value);
      
      if (!height || !weight) {
        alert('Please enter height and weight');
        return;
      }
      
      const bmi = weight / Math.pow(height/100, 2);
      let bmiCategory = '';
      
      if (bmi < 18.5) bmiCategory = 'Underweight';
      else if (bmi < 25) bmiCategory = 'Normal';
      else if (bmi < 30) bmiCategory = 'Overweight';
      else bmiCategory = 'Obese';
      
      let result = `BMI: ${bmi.toFixed(1)} (${bmiCategory})<br>`;
      
      if (waist && hip) {
        const whr = waist / hip;
        result += `Waist-Hip Ratio: ${whr.toFixed(2)}<br>`;
        
        if (gender === 'male') {
          if (whr > 0.9) result += 'Risk: High (Abdominal Obesity)';
          else if (whr > 0.85) result += 'Risk: Moderate';
          else result += 'Risk: Low';
        } else {
          if (whr > 0.85) result += 'Risk: High (Abdominal Obesity)';
          else if (whr > 0.80) result += 'Risk: Moderate';
          else result += 'Risk: Low';
        }
      }
      
      document.getElementById('bodyResult').innerHTML = result;
    }
    
    // FITNESS TRACKER
    function trackFitness() {
      const steps = parseInt(document.getElementById('steps').value) || 0;
      const workout = parseInt(document.getElementById('workoutTime').value) || 0;
      const water = parseFloat(document.getElementById('waterIntake').value) || 0;
      const sleep = parseFloat(document.getElementById('sleepHours').value) || 0;
      
      let result = '<h4>Fitness Summary:</h4>';
      
      if (steps >= 10000) result += '‚úÖ Steps: Excellent (10,000+ steps)<br>';
      else if (steps >= 5000) result += '‚ö†Ô∏è Steps: Good (5,000-9,999 steps)<br>';
      else result += '‚ùå Steps: Need improvement<br>';
      
      if (workout >= 60) result += '‚úÖ Workout: Excellent (60+ minutes)<br>';
      else if (workout >= 30) result += '‚ö†Ô∏è Workout: Good (30-59 minutes)<br>';
      else if (workout > 0) result += '‚ùå Workout: Short (<30 minutes)<br>';
      
      if (water >= 3) result += '‚úÖ Water: Optimal (3+ liters)<br>';
      else if (water >= 2) result += '‚ö†Ô∏è Water: Adequate (2 liters)<br>';
      else result += '‚ùå Water: Need more water<br>';
      
      if (sleep >= 7 && sleep <= 9) result += '‚úÖ Sleep: Optimal (7-9 hours)<br>';
      else if (sleep >= 6) result += '‚ö†Ô∏è Sleep: Acceptable (6 hours)<br>';
      else result += '‚ùå Sleep: Need more sleep<br>';
      
      document.getElementById('fitnessResult').innerHTML = result;
    }
    
    // BLOOD PRESSURE
    function checkBP() {
      const systolic = parseInt(document.getElementById('systolic').value);
      const diastolic = parseInt(document.getElementById('diastolic').value);
      
      if (!systolic || !diastolic) {
        alert('Please enter both values');
        return;
      }
      
      let category = '';
      let recommendation = '';
      
      if (systolic < 90 || diastolic < 60) {
        category = 'Low Blood Pressure';
        recommendation = 'Consult doctor if symptomatic';
      } else if (systolic < 120 && diastolic < 80) {
        category = 'Normal';
        recommendation = 'Maintain healthy lifestyle';
      } else if (systolic < 130 && diastolic < 80) {
        category = 'Elevated';
        recommendation = 'Lifestyle changes recommended';
      } else if (systolic < 140 || diastolic < 90) {
        category = 'High (Stage 1)';
        recommendation = 'Consult doctor, lifestyle changes';
      } else {
        category = 'High (Stage 2)';
        recommendation = 'Immediate medical attention needed';
      }
      
      document.getElementById('bpResult').innerHTML = 
        `Reading: ${systolic}/${diastolic} mmHg<br>
         Category: ${category}<br>
         Recommendation: ${recommendation}`;
    }
    
    // CALORIE COUNTER
    function calculateCalories() {
      const gender = document.getElementById('calorieGender').value;
      const age = parseInt(document.getElementById('calorieAge').value);
      const weight = parseFloat(document.getElementById('calorieWeight').value);
      const height = parseFloat(document.getElementById('calorieHeight').value);
      const activity = parseFloat(document.getElementById('activityLevel').value);
      
      if (!age || !weight || !height) {
        alert('Please fill all fields');
        return;
      }
      
      let bmr;
      if (gender === 'male') {
        bmr = 10 * weight + 6.25 * height - 5 * age + 5;
      } else {
        bmr = 10 * weight + 6.25 * height - 5 * age - 161;
      }
      
      const tdee = bmr * activity;
      
      document.getElementById('calorieResult').innerHTML = 
        `BMR (Basal Metabolic Rate): ${bmr.toFixed(0)} calories/day<br>
         Daily Calorie Needs (Maintain): ${tdee.toFixed(0)} calories/day<br>
         Weight Loss (500 cal deficit): ${(tdee - 500).toFixed(0)} calories/day<br>
         Weight Gain (500 cal surplus): ${(tdee + 500).toFixed(0)} calories/day`;
    }
    
    // DISCOUNT CALCULATOR
    function calculateDiscount() {
      const original = parseFloat(document.getElementById('originalPrice').value);
      const discount = parseFloat(document.getElementById('discountPercent').value);
      
      if (!original || !discount) {
        alert('Please fill all fields');
        return;
      }
      
      const discountAmount = original * (discount / 100);
      const finalPrice = original - discountAmount;
      
      document.getElementById('discountResult').innerHTML = 
        `Original Price: ‚Çπ${original.toFixed(2)}<br>
         Discount: ‚Çπ${discountAmount.toFixed(2)} (${discount}%)<br>
         Final Price: ‚Çπ${finalPrice.toFixed(2)}`;
    }
    
    // GST CALCULATOR
    function calculateGST() {
      const amount = parseFloat(document.getElementById('gstAmount').value);
      const rate = parseFloat(document.getElementById('gstRate').value);
      
      if (!amount) {
        alert('Please enter amount');
        return;
      }
      
      const gstAmount = amount * (rate / 100);
      const total = amount + gstAmount;
      
      document.getElementById('gstResult').innerHTML = 
        `Base Amount: ‚Çπ${amount.toFixed(2)}<br>
         GST (${rate}%): ‚Çπ${gstAmount.toFixed(2)}<br>
         Total Amount: ‚Çπ${total.toFixed(2)}`;
    }
    
    // QR CODE GENERATOR
    function generateQR() {
      const text = document.getElementById('qrText').value.trim();
      
      if (!text) {
        alert('Please enter text or URL');
        return;
      }
      
      const encodedText = encodeURIComponent(text);
      const qrUrl = `https://api.qrserver.com/v1/create-qr-code/?size=200x200&data=${encodedText}`;
      
      document.getElementById('qrOutput').innerHTML = 
        `<img src="${qrUrl}" alt="QR Code" style="max-width:200px; border-radius:8px;"><br>
         <p>Scan this QR code</p>`;
    }
    
    // PASSWORD GENERATOR
    function generatePassword() {
      const length = parseInt(document.getElementById('passLength').value);
      const uppercase = document.getElementById('uppercase').checked;
      const lowercase = document.getElementById('lowercase').checked;
      const numbers = document.getElementById('numbers').checked;
      const symbols = document.getElementById('symbols').checked;
      
      if (length < 6 || length > 32) {
        alert('Password length must be between 6 and 32 characters');
        return;
      }
      
      if (!uppercase && !lowercase && !numbers && !symbols) {
        alert('Please select at least one character type');
        return;
      }
      
      let charset = '';
      if (uppercase) charset += 'ABCDEFGHIJKLMNOPQRSTUVWXYZ';
      if (lowercase) charset += 'abcdefghijklmnopqrstuvwxyz';
      if (numbers) charset += '0123456789';
      if (symbols) charset += '!@#$%^&*()_+-=[]{}|;:,.<>?';
      
      let password = '';
      for (let i = 0; i < length; i++) {
        const randomIndex = Math.floor(Math.random() * charset.length);
        password += charset[randomIndex];
      }
      
      document.getElementById('passwordResult').textContent = password;
      localStorage.setItem('generatedPassword', password);
    }
    
    function copyPassword() {
      const password = localStorage.getItem('generatedPassword');
      if (!password) {
        alert('Generate a password first');
        return;
      }
      
      navigator.clipboard.writeText(password).then(() => {
        alert('Password copied to clipboard!');
      });
    }
    
    // NOTES
    function saveNotes() {
      const notes = document.getElementById('notesText').value;
      localStorage.setItem('myNotes', notes);
      document.getElementById('notesStatus').textContent = 'Notes saved successfully!';
      setTimeout(() => {
        document.getElementById('notesStatus').textContent = '';
      }, 2000);
    }
    
    // TO-DO LIST
    function loadTodos() {
      const todos = JSON.parse(localStorage.getItem('todos')) || [];
      const todoList = document.getElementById('todoList');
      todoList.innerHTML = '';
      
      todos.forEach((todo, index) => {
        const li = document.createElement('li');
        li.style.padding = '10px';
        li.style.marginBottom = '5px';
        li.style.background = 'var(--bg)';
        li.style.borderRadius = '5px';
        li.style.display = 'flex';
        li.style.justifyContent = 'space-between';
        li.style.alignItems = 'center';
        
        li.innerHTML = `
          <span>${todo}</span>
          <button onclick="removeTodo(${index})" style="background:#e74c3c; padding:5px 10px; border-radius:3px;">Remove</button>
        `;
        
        todoList.appendChild(li);
      });
    }
    
    function addTodo() {
      const input = document.getElementById('todoInput');
      const task = input.value.trim();
      
      if (!task) {
        alert('Please enter a task');
        return;
      }
      
      const todos = JSON.parse(localStorage.getItem('todos')) || [];
      todos.push(task);
      localStorage.setItem('todos', JSON.stringify(todos));
      
      input.value = '';
      loadTodos();
    }
    
    function removeTodo(index) {
      const todos = JSON.parse(localStorage.getItem('todos')) || [];
      todos.splice(index, 1);
      localStorage.setItem('todos', JSON.stringify(todos));
      loadTodos();
    }
    
    function clearTodos() {
      if (confirm('Clear all tasks?')) {
        localStorage.removeItem('todos');
        loadTodos();
      }
    }
    
    // LIVE CLOCK
    function updateClock() {
      const now = new Date();
      const timeString = now.toLocaleTimeString('en-IN', {hour12: true});
      const dateString = now.toLocaleDateString('en-IN', {
        weekday: 'long',
        year: 'numeric',
        month: 'long',
        day: 'numeric'
      });
      
      document.getElementById('clockDisplay').textContent = timeString;
      document.getElementById('dateDisplay').textContent = dateString;
    }
    
    // ==================== NEW TOOLS FUNCTIONS ====================

    // 1. SIP CALCULATOR
    function calculateSIP() {
      const monthly = parseFloat(document.getElementById('sipMonthly').value);
      const annualReturn = parseFloat(document.getElementById('sipReturn').value);
      const years = parseFloat(document.getElementById('sipYears').value);
      if (!monthly || !annualReturn || !years) { alert('Please fill all fields'); return; }
      const monthlyRate = annualReturn / 12 / 100;
      const months = years * 12;
      const futureValue = monthly * (Math.pow(1 + monthlyRate, months) - 1) * (1 + monthlyRate) / monthlyRate;
      const totalInvestment = monthly * months;
      const totalReturn = futureValue - totalInvestment;
      document.getElementById('sipResult').innerHTML = 
        `Total Investment: ‚Çπ${totalInvestment.toLocaleString('en-IN')}<br>
         Future Value: ‚Çπ${futureValue.toLocaleString('en-IN', {maximumFractionDigits: 0})}<br>
         Total Returns: ‚Çπ${totalReturn.toLocaleString('en-IN', {maximumFractionDigits: 0})}`;
    }

    // 2. LOAN CALCULATOR
    function calculateLoan() {
      const principal = parseFloat(document.getElementById('loanAmount2').value);
      const rate = parseFloat(document.getElementById('loanRate').value) / 12 / 100;
      const months = parseFloat(document.getElementById('loanYears').value) * 12;
      if (!principal || !rate || !months) { alert('Please fill all fields'); return; }
      const emi = principal * rate * Math.pow(1 + rate, months) / (Math.pow(1 + rate, months) - 1);
      const totalPayment = emi * months;
      const totalInterest = totalPayment - principal;
      document.getElementById('loanResult').innerHTML = 
        `Monthly EMI: ‚Çπ${emi.toFixed(2)}<br>
         Total Payment: ‚Çπ${totalPayment.toFixed(2)}<br>
         Total Interest: ‚Çπ${totalInterest.toFixed(2)}<br>
         Interest %: ${((totalInterest/principal)*100).toFixed(1)}%`;
    }

    // 3. SCIENTIFIC CALCULATOR
    function sciInput(val) { 
      const display = document.getElementById('sciDisplay');
      if (val === 'œÄ') display.value += Math.PI;
      else display.value += val;
    }
    function sciCalculate() {
      try {
        let expr = document.getElementById('sciDisplay').value;
        expr = expr.replace(/œÄ/g, Math.PI);
        expr = expr.replace(/\^/g, '**');
        expr = expr.replace(/sin\(/g, 'Math.sin(');
        expr = expr.replace(/cos\(/g, 'Math.cos(');
        expr = expr.replace(/tan\(/g, 'Math.tan(');
        expr = expr.replace(/log\(/g, 'Math.log10(');
        document.getElementById('sciDisplay').value = eval(expr);
      } catch(e) { document.getElementById('sciDisplay').value = 'Error'; }
    }

    // 4. TIME ZONE
    function updateTZTime() {
      const tz = document.getElementById('tzSelect').value;
      const now = new Date().toLocaleString('en-IN', { timeZone: tz, timeStyle: 'medium', dateStyle: 'full' });
      document.getElementById('tzTimeDisplay').textContent = now;
    }

    // 5. TIP CALCULATOR
    function calculateTip() {
      const bill = parseFloat(document.getElementById('billAmount').value);
      const tipPercent = parseFloat(document.getElementById('tipPercent').value);
      const people = parseInt(document.getElementById('tipPeople').value) || 1;
      if (!bill || !tipPercent) { alert('Please enter bill and tip %'); return; }
      const tipAmount = bill * (tipPercent / 100);
      const total = bill + tipAmount;
      const perPerson = total / people;
      document.getElementById('tipResult').innerHTML = 
        `Tip Amount: ‚Çπ${tipAmount.toFixed(2)}<br>
         Total Bill: ‚Çπ${total.toFixed(2)}<br>
         Per Person: ‚Çπ${perPerson.toFixed(2)} (${people} people)`;
    }

    // 6. FUEL COST
    function calculateFuel() {
      const dist = parseFloat(document.getElementById('fuelDistance').value);
      const eff = parseFloat(document.getElementById('fuelEfficiency').value);
      const price = parseFloat(document.getElementById('fuelPrice').value);
      if (!dist || !eff || !price) { alert('Please fill all fields'); return; }
      const litres = dist / eff;
      const cost = litres * price;
      document.getElementById('fuelResult').innerHTML = 
        `Fuel Needed: ${litres.toFixed(2)} litres<br>
         Total Cost: ‚Çπ${cost.toFixed(2)}`;
    }

    // 7. AREA CALCULATOR
    function changeAreaInputs() {
      const shape = document.getElementById('areaShape').value;
      let html = '';
      if (shape === 'square') html = '<label>Side (m):</label><input type="number" id="areaSide1" placeholder="10">';
      else if (shape === 'rectangle') html = '<label>Length (m):</label><input type="number" id="areaSide1" placeholder="10"><label>Width (m):</label><input type="number" id="areaSide2" placeholder="5">';
      else if (shape === 'circle') html = '<label>Radius (m):</label><input type="number" id="areaSide1" placeholder="5">';
      else if (shape === 'triangle') html = '<label>Base (m):</label><input type="number" id="areaSide1" placeholder="10"><label>Height (m):</label><input type="number" id="areaSide2" placeholder="6">';
      document.getElementById('areaInputs').innerHTML = html;
    }
    function calculateArea() {
      const shape = document.getElementById('areaShape').value;
      const s1 = parseFloat(document.getElementById('areaSide1').value);
      const s2 = parseFloat(document.getElementById('areaSide2')?.value) || 0;
      let area = 0, formula = '';
      if (shape === 'square') { area = s1 * s1; formula = 'Side¬≤'; }
      else if (shape === 'rectangle') { area = s1 * s2; formula = 'Length √ó Width'; }
      else if (shape === 'circle') { area = Math.PI * s1 * s1; formula = 'œÄ √ó Radius¬≤'; }
      else if (shape === 'triangle') { area = 0.5 * s1 * s2; formula = '¬Ω √ó Base √ó Height'; }
      if (!s1) { alert('Please enter values'); return; }
      document.getElementById('areaResult').innerHTML = 
        `Area: ${area.toFixed(2)} square meters<br><small>Formula: ${formula}</small>`;
    }

    // 8. SPEED CALCULATOR
    function calculateSpeed() {
      const dist = parseFloat(document.getElementById('speedDistance').value);
      const time = parseFloat(document.getElementById('speedTime').value);
      if (!dist || !time) { alert('Please fill both fields'); return; }
      const speed = dist / time;
      document.getElementById('speedResult').innerHTML = 
        `Speed: ${speed.toFixed(2)} km/h<br>
         Time for 1 km: ${(60 / speed).toFixed(2)} minutes`;
    }

    // 9. DAYS BETWEEN DATES
    function calculateDateDiff() {
      const start = new Date(document.getElementById('startDate').value);
      const end = new Date(document.getElementById('endDate').value);
      if (!start.getTime() || !end.getTime()) { alert('Please select both dates'); return; }
      const diff = Math.abs(end - start);
      const days = Math.floor(diff / (1000 * 60 * 60 * 24));
      document.getElementById('dateDiffResult').innerHTML = 
        `Difference: ${days} day(s)<br>
         From ${start.toDateString()} to ${end.toDateString()}`;
    }

    // 10. TEXT COUNTER
    function updateTextCount() {
      const text = document.getElementById('counterText').value;
      const chars = text.length;
      const words = text.trim() === '' ? 0 : text.trim().split(/\s+/).length;
      const lines = text === '' ? 0 : text.split('\n').length;
      document.getElementById('charCount').textContent = chars;
      document.getElementById('wordCount').textContent = words;
      document.getElementById('lineCount').textContent = lines;
    }

    // 11. RANDOM GENERATOR
    function generateRandom() {
      const type = document.getElementById('randomType').value;
      let result = '';
      if (type === 'number') {
        const min = parseInt(document.getElementById('randMin').value);
        const max = parseInt(document.getElementById('randMax').value);
        result = Math.floor(Math.random() * (max - min + 1)) + min;
      } else if (type === 'coin') {
        result = Math.random() > 0.5 ? 'Heads' : 'Tails';
      } else if (type === 'dice') {
        result = Math.floor(Math.random() * 6) + 1;
      } else if (type === 'picker') {
        const list = prompt('Enter items separated by commas (e.g., Apple, Banana, Cherry):');
        if (list) {
          const items = list.split(',').map(i => i.trim()).filter(i => i);
          result = items[Math.floor(Math.random() * items.length)] || 'No valid items';
        } else return;
      }
      document.getElementById('randomResult').textContent = `Result: ${result}`;
    }

    // 12. BMI RANGE CHECKER
    function checkBMIRange() {
      const bmi = parseFloat(document.getElementById('yourBMI').value);
      if (!bmi) { alert('Please enter your BMI'); return; }
      let category = '';
      if (bmi < 18.5) category = 'Underweight';
      else if (bmi < 25) category = 'Normal';
      else if (bmi < 30) category = 'Overweight';
      else if (bmi < 35) category = 'Obesity Class I';
      else if (bmi < 40) category = 'Obesity Class II';
      else category = 'Obesity Class III';
      document.getElementById('bmiRangeResult').innerHTML = 
        `Your BMI: ${bmi}<br>
         Category: <strong>${category}</strong>`;
    }

    // 13. WATER INTAKE
    function calculateWater() {
      const weight = parseFloat(document.getElementById('waterWeight').value);
      const activity = parseFloat(document.getElementById('waterActivity').value);
      if (!weight) { alert('Please enter weight'); return; }
      const base = weight * 0.033; // Base formula: 33 ml per kg
      const total = base * activity;
      document.getElementById('waterResult').innerHTML = 
        `Recommended Daily Water Intake:<br>
         <strong>${total.toFixed(2)} litres (‚âà ${(total * 1000).toFixed(0)} ml)</strong><br>
         <small>Based on weight and activity level.</small>`;
    }
    
    // ====================
    // INITIALIZE ON LOAD
    // ====================
    window.onload = function() {
      // Load saved notes
      const savedNotes = localStorage.getItem('myNotes');
      if (savedNotes) {
        document.getElementById('notesText').value = savedNotes;
      }
      
      // Load todos
      loadTodos();
      
      // Start clock updates
      setInterval(updateClock, 1000);
      updateClock();
      
      // Initialize timer display
      updateTimerDisplay();
      
      // Initialize search
      initSearch();
      
      // Initialize favorites
      initFavorites();
      
      // Initialize recent tools display
      updateRecentToolsDisplay();
      
      // Initialize themes
      initThemes();
      
      // Initialize language support
      initLanguageSelector();
      
      // Initialize new panels
      changeAreaInputs(); // For Area Calculator
      updateTZTime();     // For Time Zone
      updateTextCount();  // For Text Counter
      setInterval(updateTZTime, 1000); // Update time zone every second
      
      // Load saved theme and color
      const savedTheme = localStorage.getItem('theme') || 'light';
      const savedColor = localStorage.getItem('appColor') || 'blue';
      
      document.body.setAttribute('data-theme', savedTheme);
      document.body.setAttribute('data-color', savedColor);
      
      // Update button text
      document.getElementById('themeToggle').textContent = 
        savedTheme === 'dark' ? '‚òÄÔ∏è Light Mode' : 'üåô Dark Mode';
      
      // Online/Offline detection
      function updateOnlineStatus() {
        const indicator = document.getElementById('offlineIndicator');
        if (!navigator.onLine) {
          indicator.style.display = 'block';
          console.log('App is offline');
        } else {
          indicator.style.display = 'none';
          console.log('App is online');
        }
      }
      
      window.addEventListener('online', updateOnlineStatus);
      window.addEventListener('offline', updateOnlineStatus);
      updateOnlineStatus(); // Initial check
    };
  </script>
</body>
</html>